{"version":3,"sources":["../../src/container/ZenLearn/peer-learning/peer-learning.module.ts","../../src/container/ZenLearn/peer-learning/peer-learning.ts"],"names":[],"mappings":"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","file":"126.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PeerLearnigPage } from './peer-learning';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { NgCircleProgressModule } from 'ng-circle-progress';\nimport { IonicSelectableModule } from 'ionic-selectable';\n\n@NgModule({\n  declarations: [\n    PeerLearnigPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PeerLearnigPage),\n    ComponentsModule,\n    NgCircleProgressModule,\n    IonicSelectableModule\n  ],\n})\nexport class MyDapPageModule  { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/ZenLearn/peer-learning/peer-learning.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController, ModalController } from 'ionic-angular';\nimport { CommonUtilities } from '../../../providers/commonUtilities/commonUtilities';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { HttpProvider } from '../../../providers/http/http';\nimport { DapPopoverPage } from '../dap-popover/dap-popover';\nimport { GetterSetter } from '../../../providers/getterSetter/getterSetter';\nimport { ZenlearnNewRequestComponent } from '../../../components/zenlearn-new-request/zenlearn-new-request';\nimport * as moment from 'moment';\n\n\n@IonicPage()\n@Component({\n  selector: 'peer-learning',\n  templateUrl: 'peer-learning.html',\n})\nexport class PeerLearnigPage {\n  private role: string;\n  private menteeItem;\n  private peerData;\n  private inputMsg;\n  private previousItem;\n  private userData;\n  private currentTime;\n  private newmessageList = [];\n\n  constructor(private viewCtrl: ViewController, private utilities: CommonUtilities, private modalCtrl: ModalController, private getSet: GetterSetter,\n    private navCtrl: NavController, private navParams: NavParams, private popoverCtrl: PopoverController, private httpProvider: HttpProvider) {\n    this.role = this.navParams.get(\"role\");\n    this.menteeItem = this.navParams.get('menteeItem');\n    this.previousItem = this.navParams.get('isComingFromDAP');\n\n\n    //this.userData = this.navParams.get('userData');\n    this.userData = this.getSet.getUserData();\n    console.log(this.getSet.getUserData());\n    console.log(this.userData);\n    this.getPeerData();\n  }\n  ngOnInit() {\n  }\n\n  // Get Peer Data\n  getPeerData() {\n    let data;\n    this.utilities.updateLoader(true);\n    if (this.previousItem && this.previousItem.isComingFromDAP) {\n\n      data = {\n        url: 'getPeerLearningLastPage',\n        data: {\n          message: \"\",\n          status: \"\",\n          menteeid: '0',\n          role: this.role,\n          category: 'PeerLearning',\n          dapSectionMasterId: \"2\",\n          dapId: this.previousItem.dapId\n        },\n        zenLearn: true\n      }\n\n    } else {\n      data = {\n        url: 'getPeerLearningLastPage',\n        data: {\n          message: \"\",\n          status: \"\",\n          menteeid: this.menteeItem.menteeid,\n          role: this.role,\n          category: 'PeerLearning',\n          dapSectionMasterId: \"2\",\n          dapId: this.menteeItem.dapId\n        },\n        zenLearn: true\n      }\n    }\n\n\n    this.httpProvider.http.commonService(data).subscribe((response: any) => {\n      //console.log(response);\n      if (response.details) {\n        this.peerData = response.details.responseList;\n      }\n      this.utilities.updateLoader(false);\n\n    },\n      error => {\n        this.utilities.updateLoader(false);\n        //console.log(error)\n      })\n  }\n  // **********Method for mark as completed**************/\n  markAsCompletedM() {\n    const url: string = \"getMarkComplete\";\n    let data: any\n    data = {\n      role: this.role,\n      category: 'PeerLearning',\n      dapId: this.menteeItem.dapId,\n      userComment: \"\"\n\n      // dapSectionId: this.peerData.dapSectionEntryId,\n    }\n    this.utilities.updateLoader(true);\n    this.httpProvider.http\n      .commonService({ url, data, zenLearn: true })\n      .subscribe(\n        (res: any) => {\n          this.utilities.updateLoader(false);\n          // this.isAccepted = true;\n          this.utilities.showToast(\"Marked as completed successfully\");\n          this.navCtrl.pop()\n        },\n        err => {\n          this.utilities.updateLoader(false);\n        }\n      );\n\n  }\n  // formatDate(obj) {\n  //   let x =moment(obj).format('DD-MMM-YYYY, h:mm a');\n\n  //   return x;\n  // }\n  // **********Method for mark as completed**************/\n  markAsCompleted() {\n    const url: string = \"getMarkComplete\";\n    let data: any\n    data = {\n      role: this.role,\n      category: 'PeerLearning',\n      dapSectionId: this.peerData.dapSectionEntryId,\n      // dapId: this.menteeItem.dapId\n    };\n    this.utilities.updateLoader(true);\n    this.httpProvider.http\n      .commonService({ url, data, zenLearn: true })\n      .subscribe(\n        (res: any) => {\n          this.utilities.updateLoader(false);\n          // this.isAccepted = true;\n          this.utilities.showToast(\"Marked as completed successfully\");\n          this.navCtrl.pop();\n        },\n        err => {\n          this.utilities.updateLoader(false);\n        }\n      );\n\n  }\n\n  // **********Method for send msg**************/\n  sendMsg() {\n    console.log(this.inputMsg)\n    const url: string = \"sendMessage\";\n    this.currentTime = Date.now();\n    let data: any\n    data = {\n      role: this.role,\n      message: this.inputMsg,\n      mntorMappingId: this.peerData.mentorMappingId,\n      // dapId: this.menteeItem.dapId\n    };\n    if (this.inputMsg != '') {\n      this.utilities.updateLoader(true);\n      this.httpProvider.http\n        .commonService({ url, data, zenLearn: true })\n        .subscribe(\n          (res: any) => {\n            this.utilities.updateLoader(false);\n            // this.isAccepted = true;\n            this.utilities.showToast(\"Message sent successfully\");\n            let msg = {\n              message: this.inputMsg,\n              name: this.userData.employeeName,\n              profilePic: this.userData.employeeProfilePic,\n              time: this.currentTime\n            }\n            this.newmessageList.push(msg)\n            this.inputMsg = \"\"\n          },\n          err => {\n            this.utilities.updateLoader(false);\n          }\n        );\n    }\n    else {\n      this.utilities.showToast(\"Please enter some message\");\n    }\n\n\n  }\n\n  approveReject(type) {\n    this.utilities.updateLoader(true);\n    let data = {\n      url: 'getMarkComplete',\n      data: {\n        role: this.role,\n        category: 'PeerLearning',\n        dapId: this.previousItem.dapId,\n        userComment: \"\",\n        isReject: type\n      },\n      zenLearn: true\n    }\n    this.httpProvider.http.commonService(data).subscribe((response: any) => {\n      console.log(response)\n      this.utilities.updateLoader(false);\n      if (type) {\n        this.utilities.presentAlert(`DAP rejected successfully`).then(() => {\n          this.navCtrl.pop();\n        })\n      } else {\n        this.utilities.presentAlert(`DAP approved successfully`).then(() => {\n          this.navCtrl.pop();\n        })\n      }\n\n    }, error => {\n      this.utilities.updateLoader(false);\n    })\n  }\n\n  newRequest() {\n    let data = {\n      dapId: this.previousItem.dapId,\n      dapEntryId: this.peerData.dapSectionEntryId\n    }\n    let modal = this.modalCtrl.create(ZenlearnNewRequestComponent, { dapDetails: data }, { cssClass: 'onTheJOb' })\n    modal.present();\n    modal.onDidDismiss(() => {\n    //this.getPeerData();\n    this.navCtrl.pop();\n      // this.navCtrl.push(\"MyDaplistPage\").then(()=>{\n      //   let activeIndex = this.navCtrl.getActive().index - 1;\n      //   this.navCtrl.remove(activeIndex , 4)\n      // })\n    })\n\n  }\n  dateConversion(input) {\n    let date = moment(input).format('D-MMM-YYYY');\n    return date;\n  }\n\n  formateDate(data:string){\n\n    // let date = data.split(' ');\n    // console.log(date[0]);\n   return moment(data).format('D-MMM-YYYY h:mm a' );\n\n\n  }\n\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/ZenLearn/peer-learning/peer-learning.ts"],"sourceRoot":""}