{"version":3,"sources":["../../src/container/zen-admin/travelers-list/travelers-list.module.ts","../../src/container/zen-admin/travelers-list/travelers-list.ts"],"names":[],"mappings":"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","file":"64.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TravelersListPage } from './travelers-list';\n\n@NgModule({\n  declarations: [\n    TravelersListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TravelersListPage),\n  ],\n})\nexport class TravelersListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/travelers-list/travelers-list.module.ts","import { CancelBuspassModalComponent } from \"./../../../components/zenadmin/cancel-buspass-modal/cancel-buspass-modal\";\nimport { HttpProvider } from \"./../../../providers/http/http\";\nimport { CommonUtilities } from \"./../../../providers/commonUtilities/commonUtilities\";\nimport { Component } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  ModalController,\n} from \"ionic-angular\";\n\n/**\n * Generated class for the TravelersListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-travelers-list\",\n  templateUrl: \"travelers-list.html\",\n})\nexport class TravelersListPage {\n  private bookingStatus: any = \"All\";\n  private inchargeDetails: any;\n  private showNoPassPage: boolean = false;\n\n  private busDetails: any = [\n    // {\n    //   \"currDate\": \"14 Feb, 2021\", \"currDay\": \"Sunday\",\n    //   \"busPassDetailDOs\": [{\n    //     \"monthYear\": \"Mar, 21\", \"busPassDetailDOs\":\n    //       [{\n    //         \"routeName\": \"Vijaya Nagar <-> Kharadi\", \"pickupPointName\": \"MANIK BAUG\", \"arrivalTime\": \"07:32:00\", \"busPassId\": \"66\", \"passType\": \"Daily\", \"busPassValidity\": \"12 Mar - 12 Mar, 2021\", \"isApproved\": true, \"isPending\": false,\n    //         \"isRejected\": false, \"isCancelled\": false\n    //       }\n    //       ]\n    //   }\n    //   ]\n    // }\n  ];\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private modalCtrl: ModalController,\n    private utility: CommonUtilities,\n    private httpProvider: HttpProvider\n  ) { }\n\n  ionViewDidLoad() {\n    console.log(\"ionViewDidLoad TravelersListPage\", this.busDetails);\n    this.getBusInchargeHistoryDetails();\n  }\n\n  onSelectChange(data) {\n    this.getBusInchargeHistoryDetails();\n  }\n  getBusInchargeHistoryDetails() {\n    this.utility.updateLoader(true);\n    let home = {\n      url: \"getBusInchargeHistoryDetails\",\n      data: {\n        approvalStatus: this.bookingStatus,\n      },\n      isZenAdmin: true,\n    };\n\n    this.httpProvider.http.commonService(home).subscribe(\n      (response:any) => {\n        if (response) {\n          this.utility.updateLoader(false);\n          if (\n            !this.utility.isEmptyOrNullOrUndefined(response[\"data\"]) &&\n            response.status[\"statusCode\"] == \"1\"\n          ) {\n            this.busDetails = response[\"data\"];\n            console.log(\"busDetails\", this.busDetails);\n            this.inchargeDetails = response[\"data\"].busInchargeTravellerDOs;\n            console.log(\"inchargeDetails\", this.inchargeDetails);\n            this.showNoPassPage = false;\n          }\n          else {\n            // no data available\n            this.showNoPassPage = true;\n            // this.passDetails = response['data'];\n          }\n        }\n      },\n      (error) => {\n        this.utility.updateLoader(false);\n      }\n    );\n  }\n  call(number) {\n    this.utility.callNumber(number);\n  }\n  gotoDetailsPage(data) {\n    this.navCtrl.push(\"TravelerListDetailsPage\", {\n      busInchagreHistoryId: data.busInchagreHistoryId,\n    });\n  }\n  raiseComplaintReq() {\n    let modal = this.modalCtrl.create(\n      CancelBuspassModalComponent,\n      {\n        passID: this.busDetails.busPassId,\n        passType: this.busDetails.passType,\n        passValidity: this.busDetails.busPassValidity,\n        requestType: \"raiseComplaint\",\n      },\n      {\n        cssClass: \"cancel-pass-modal\",\n      }\n    );\n\n    modal.present();\n    modal.onDidDismiss((res) => {\n      // console.log(\"response\", res);\n      // this.utility.updateLoader(true)\n      // if (res) {\n      //   if (res.key == 'passCancelled') {\n      //     this.utility.updateLoader(false)\n      //     // this.isPassCancelled = true;\n      //     console.log(\"cancelled data\", res.cancelledData);\n      //     // this.busDetails = ''\n      //     // this.cancelBusDetails = res.cancelledData\n      //     this.cancelMsg = res.cancelledData.busPassStatusMessageDetails\n      //     console.log(\"cancelMsg\", this.cancelMsg);\n      //     console.log(\"cancelBusDetails\", this.cancelBusDetails.userName);\n      //   }\n      // }\n      // else {\n      //   this.utility.updateLoader(false)\n      // }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/travelers-list/travelers-list.ts"],"sourceRoot":""}