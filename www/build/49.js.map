{"version":3,"sources":["../../src/container/zendeavor-view-consultation/zendeavor-view-consultation.module.ts","../../src/container/zendeavor-view-consultation/zendeavor-view-consultation.ts"],"names":[],"mappings":"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","file":"49.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ZendeavorViewConsultationPage } from './zendeavor-view-consultation';\n\n@NgModule({\n  declarations: [\n    ZendeavorViewConsultationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ZendeavorViewConsultationPage),\n  ],\n})\nexport class ZendeavorViewConsultationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zendeavor-view-consultation/zendeavor-view-consultation.module.ts","import { ViewChild, ViewChildren, QueryList } from '@angular/core';\nimport { PopoverController, TextInput } from 'ionic-angular';\nimport { CommonUtilities } from './../../providers/commonUtilities/commonUtilities';\nimport { HttpProvider } from './../../providers/http/http';\nimport { Component, ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Data } from '../../providers/data/data';\nimport * as moment from 'moment';\n\n\n/**\n * Generated class for the ZendeavorViewConsultationPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-zendeavor-view-consultation',\n  templateUrl: 'zendeavor-view-consultation.html',\n})\nexport class ZendeavorViewConsultationPage {\n  private viewonsultUrl = 'viewConsultation'\n  private userID: any\n  private kraType: any\n  private userRole: any\n  private consultFrom: any\n  private conversationList: any = []\n  private userDetails: any\n  private loggedInUserID: any\n  private mainKey: any\n  private consultTo: any\n  private submitConsultUrl = 'submitConsultation'\n  private submitResponse: any\n  private showLoader: any = true\n  @ViewChildren('feedbackTextRef') feedbackTextRef: QueryList<any>;\n\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private httpProvider: HttpProvider, private popoverCtrl: PopoverController,\n    private modalCtrl: ModalController, private utilitiy: CommonUtilities, private data: Data, public element: ElementRef) {\n    this.userID = this.navParams.get('userID') || null\n    this.userRole = this.navParams.get('userRole') || null\n    this.kraType = this.navParams.get('kraType') || null\n    this.consultFrom = this.navParams.get('main_key') || null\n    this.mainKey = this.navParams.get('main_key') || null\n\n\n\n\n    this.data.getData('loginDetails').then((userInfo: any) => {\n      this.userDetails = userInfo.details.userDetails\n      //console.log(\"userdetails\", this.userDetails)\n      //console.log(\"userdetails\", userInfo)\n      this.loggedInUserID = this.userDetails.userId\n      //console.log(\"loggedInUserID\", this.loggedInUserID)\n      if (!this.utilitiy.isEmptyOrNullOrUndefined(this.loggedInUserID))\n        this.getConsultationDetails()\n\n    })\n  }\n\n  ionViewDidLoad() {\n    // this.getConsultationDetails()\n    //console.log('ionViewDidLoad ZendeavorViewConsultationPage');\n  }\n\n\n  getConsultationDetails() {\n    if (this.showLoader)\n      this.utilitiy.updateLoader(true)\n    let teamListUrl = {\n\n      url: this.viewonsultUrl,\n      zenDeavorURL: true,\n      data: {\n        \"userId\": this.userID,\n        \"role\": this.userRole,\n        \"processType\": this.kraType,\n        // \"consultFrom\": 53538\n      }\n    }\n\n    this.httpProvider.http.commonService(teamListUrl).subscribe((res) => {\n      if (this.showLoader)\n        this.utilitiy.updateLoader(false)\n      if (!this.utilitiy.isEmptyOrNullOrUndefined(res['details'])) {\n        this.conversationList = res['details']['consultFromList']\n\n        //console.log(\"conversationList\", this.conversationList)\n      }\n\n    }, (err) => {\n      this.utilitiy.updateLoader(false)\n    })\n  }\n\n\n  adjustHeight(event, reference) {\n    for (let index = 0; index < this.conversationList.length; index++) {\n      // const element = array[index];\n      const textArea = this.element.nativeElement.getElementsByTagName('textarea')[index];\n      // //console.log(this.element.nativeElement)\n      // //console.log(\"reference\", reference.value)\n\n      textArea.style.overflow = 'hidden';\n      textArea.style.height = 'auto';\n      textArea.style.height = textArea.scrollHeight + 'px';\n\n    }\n\n  }\n\n  submitConsultation(message, chatDetail) {\n    //console.log(\"feedback\", this.feedbackTextRef.toArray())\n\n    // // this.feedbackTextRef = message\n    // for (let index = 0; index < this.conversationList.length; index++) {\n    //   const textArea = this.feedbackTextRef[index].value;\n    //   console.log(textArea)\n    //   // textArea.feedbackTextRef=\"\"\n    // }\n\n    if (this.utilitiy.isEmptyOrNullOrUndefined(message)) {\n      this.utilitiy.presentAlert(\"Please enter the message\")\n      return\n\n    }\n    this.utilitiy.updateLoader(true)\n    let submitParams = {\n\n      url: this.submitConsultUrl,\n      zenDeavorURL: true,\n      data: {\n        \"userId\": this.userID,\n        \"main_key\": chatDetail.main_key,\n        \"processType\": this.kraType,\n        \"consultTo\": chatDetail.consultTo,\n        \"role\": this.userRole,\n        \"consultationReqMessage\": message,\n        \"request_type\": \"requested\"\n      }\n    }\n\n    this.httpProvider.http.commonService(submitParams).subscribe((res) => {\n      this.utilitiy.updateLoader(false)\n      this.submitResponse = res['status']\n      if (this.submitResponse.statusCode == '1' && !this.utilitiy.isEmptyOrNullOrUndefined(this.submitResponse)) {\n        // this.feedbackTextRef['value'] = ''\n        let array = this.feedbackTextRef.toArray()\n        array.forEach(element => {\n          element.value = ''\n        });\n        this.utilitiy.presentAlert(this.submitResponse.statusMessage)\n        this.showLoader = false\n        this.getConsultationDetails()\n      }\n      // this.submittedList = this.consultationList['submittedList']\n\n    }, (err) => {\n      this.utilitiy.updateLoader(false)\n    })\n  }\n\n\n  dateConversion(input) {\n    let date = moment(input).format('D MMM YYYY h:mma');\n    return date;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zendeavor-view-consultation/zendeavor-view-consultation.ts"],"sourceRoot":""}