{"version":3,"sources":["../../src/container/zents/dashboard/my-timesheets/my-timesheets.module.ts","../../src/container/zents/dashboard/my-timesheets/my-timesheets.ts"],"names":[],"mappings":"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","file":"36.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyTimesheetsPage } from './my-timesheets';\n\n@NgModule({\n  declarations: [\n    MyTimesheetsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyTimesheetsPage),\n  ],\n})\nexport class MyTimesheetsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zents/dashboard/my-timesheets/my-timesheets.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { HttpProvider } from '../../../../providers/http/http';\nimport { CommonUtilities } from '../../../../providers/commonUtilities/commonUtilities'\nimport { Data } from '../../../../providers/data/data';\n\n/**\n * Generated class for the MyTimesheetsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-my-timesheets',\n  templateUrl: 'my-timesheets.html',\n})\nexport class MyTimesheetsPage {\n\n  // pageTitle: String = \"My Timesheets\";\n  // projectName: any;\n  // iconName: string;\n  private startDate: any;\n  private endDate: any;\n  private projectId: any;\n  private projectIds: any;\n  private status: any;\n  private myTimesheetData: Array<any> = [];\n  private flag = {\n    isPageLoaded: false\n  }\n  private type:string = null;\n  private resolve:Function;\n\n  constructor(private navCtrl: NavController, public navParams: NavParams, private httpProvider: HttpProvider, private utility: CommonUtilities, private dataStorage: Data) {\n\n    this.startDate = navParams.get(\"startDate\");\n    this.endDate = navParams.get(\"endDate\");\n    // this.projectName = navParams.get(\"projectName\");\n    this.projectId = navParams.get(\"projectId\");\n    this.projectIds = navParams.get(\"projectIds\");\n    this.status = navParams.get(\"status\");\n\n    this.type = this.navParams.get('type');\n    this.resolve = this.navParams.get('resolve');\n    let dataList = this.navParams.get('dataList');\n    \n    if(this.type == 'chat-bot' && dataList){\n      this.myTimesheetData = dataList;\n    }else{\n      this.getMyTimesheets()\n    }\n\n  }\n\n  ionViewDidLoad() {\n  }\n\n  getMyTimesheets() {\n\n    this.utility.updateLoader(true);\n\n    let statusArr: Array<any> = [];\n\n    if (this.status == \"all\") {\n      statusArr = [\"-1\", \"1\", \"2\", \"3\"]\n    } else {\n      statusArr = [this.status];\n    }\n    const params = {\n      \"startDate\": this.startDate,\n      \"endDate\": this.endDate,\n      \"projectId\": this.projectId,\n      \"approvalStatusId\": statusArr\n\n    }\n\n    this.httpProvider.http.zentsCommonService({ url: \"v1/mytimesheets\", data: params, dashboard: true }).subscribe((res: any) => {\n\n      this.utility.updateLoader(false);\n      if (res) {\n        this.flag.isPageLoaded = true;\n        this.myTimesheetData = res.data.timesheetList;\n      }\n    }, (err) => {\n      this.utility.updateLoader(false);\n    })\n\n  }\n\n  emailTimeshets() {\n\n    this.utility.updateLoader(true);\n\n    let statusArr: Array<any> = [];\n\n    if (this.status == \"all\") {\n      statusArr = [\"-1\", \"1\", \"2\", \"3\"]\n    } else {\n      statusArr = [this.status];\n    }\n\n    const params = {\n      \"startDate\": this.startDate,\n      \"endDate\": this.endDate,\n      \"selectedProjectIDs\": this.projectIds,\n      \"selectedapprovalStatus\": statusArr\n    }\n\n    this.httpProvider.http.zentsCommonService({ url: \"consignDocuments\", data: params, timeentry: true }).subscribe((res: any) => {\n\n      this.utility.updateLoader(false);\n      if (res) {\n        this.utility.showToast(\"Timesheet report has been sent to your zensar email.\");\n      }\n    }, (err) => {\n      this.utility.updateLoader(false);\n    })\n\n  }\n\n\n\n  // getApproverStatusType(status: any) {\n\n\n\n  //   return {\n\n  //     'approval-statustype-saved': status == 0 ? true : false,\n  //     'approval-statustype-approved': status == 1 ? true : false,\n  //     'approval-statustype-submited': status == 2 ? true : false,\n  //     'approval-statustype-rejected': status == 3 ? true : false\n  //   }\n\n  // }\n\n  getTimesheetTypeIcon(status: any) {\n\n    // -1 - saved\n    // 1 - approved\n    // 2 - submited\n    // 3 - rejected\n\n    // switch (status) {\n    //   case '0': return 'assets/zents-imgs/blue.svg';\n    //   case '1': return 'assets/zents-imgs/green.svg';\n    //   case '2': return 'assets/zents-imgs/orange.svg';\n    //   case '3': return 'assets/zents-imgs/red.svg';\n    //   default: return 'assets/zents-imgs/blue.svg';\n    // }\n\n\n    switch (status) {\n      case '-1': return 'assets/zents-imgs/ts-saved-icon.svg';\n      case '1': return 'assets/zents-imgs/ts-approved-icon.svg';\n      case '2': return 'assets/zents-imgs/ts-submitted-icon.svg';\n      case '3': return 'assets/zents-imgs/ts-rejected-icon.svg';\n      default: return 'assets/zents-imgs/ts-saved-icon.svg';\n    }\n\n  }\n\n\n  getApproverStatusBoxType(status: any) {\n    // -1 - saved\n    // 1 - approved\n    // 2 - submited\n    // 3 - rejected\n\n    return {\n      'statustype-box-saved': status == -1 ? true : false,\n      'statustype-box-approved': status == 1 ? true : false,\n      'statustype-box-submited': status == 2 ? true : false,\n      'statustype-box-rejected': status == 3 ? true : false,\n    }\n\n\n  }\n\n  getDataSource() {\n    return this.myTimesheetData;\n  }\n\n  isAnyRecord() {\n\n    if (this.myTimesheetData) {\n      if (this.myTimesheetData.length > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n\n  //dummy logout for ZenTs\n  logout() {\n    this.dataStorage.clearData();\n    this.navCtrl.setRoot('BackdoorEntryPage');\n  }\n\n  //Confirm save \n  showConfirmAlert() {\n    let alert = this.utility.presentConfirmation('Are you sure you want to email timesheets ?', '');\n    alert.then((res) => {\n\n      this.emailTimeshets();\n    })\n  }\n\n  ionViewWillLeave(){\n    if(this.resolve){\n      this.resolve();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zents/dashboard/my-timesheets/my-timesheets.ts"],"sourceRoot":""}