{"version":3,"sources":["../../src/container/zen-admin/security-personal/security-personnel-buseslist/security-personnel-buseslist.module.ts","../../src/container/zen-admin/security-personal/security-personnel-buseslist/security-personnel-buseslist.ts"],"names":[],"mappings":"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","file":"66.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SecurityPersonnelBuseslistPage } from './security-personnel-buseslist';\n\n@NgModule({\n  declarations: [\n    SecurityPersonnelBuseslistPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SecurityPersonnelBuseslistPage),\n  ],\n})\nexport class SecurityPersonnelBuseslistPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/security-personal/security-personnel-buseslist/security-personnel-buseslist.module.ts","import { HttpProvider } from './../../../../providers/http/http';\nimport { CommonUtilities } from './../../../../providers/commonUtilities/commonUtilities';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController } from 'ionic-angular';\nimport * as moment from 'moment';\n\n/**\n * Generated class for the SecurityPersonnelBuseslistPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-security-personnel-buseslist',\n  templateUrl: 'security-personnel-buseslist.html',\n})\nexport class SecurityPersonnelBuseslistPage {\n  public busList = [];\n  private responseList: any = [];\n  public inTimeDate: any;\n  public responseData: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private utility: CommonUtilities,\n    private httpProvider: HttpProvider,\n    private popoverCtrl: PopoverController\n  ) { }\n\n  ionViewDidLoad() {\n  }\n\n  ionViewWillEnter() {\n    this.getSPBusDetails()\n  }\n\n  gotoBusDetails(busId) {\n    this.navCtrl.push('SecurityPersonnelBusdetailsPage', {\n      busId: busId,\n    })\n  }\n  getSPBusDetails() {\n    this.utility.updateLoader(true);\n    this.httpProvider.http.commonService({\n      url: \"getAdminBusInOutDetailList\",\n      data: {},\n      isZenAdmin: true,\n    }).subscribe(\n      (response: any) => {\n        this.utility.updateLoader(false);\n        if (response) {\n          if (!this.utility.isEmptyOrNullOrUndefined(response[\"data\"]) && response.status[\"statusCode\"] == \"1\") {\n            this.responseList = response[\"data\"];\n            this.busList = this.responseList.busDetailDOs;\n          }\n        }\n      },\n      (error) => {\n        this.utility.updateLoader(false);\n      }\n    );\n  }\n  onTimeChange(time, busId, typeOfTime, otherTime) {\n    let newTime = otherTime.toLowerCase()\n    let formattedTime = moment(time);\n    let updatedTime = formattedTime.format(\"hh:mm A\")\n    if (newTime.indexOf('am' || 'pm') == -1) {\n      otherTime = moment(otherTime, 'HHmmss').format(\"hh:mm A\")\n    }\n\n    this.updateInOutTime(updatedTime, busId, typeOfTime, otherTime)\n  }\n  updateInOutTime(updatedTime, busId, typeOfTime, otherTime) {\n    this.utility.updateLoader(true);\n    this.httpProvider.http.commonService({\n      url: \"addUpdateBusInOutTime\",\n      data: {\n        \"busId\": busId,\n        \"inTime\": typeOfTime == 'inTime' ? updatedTime : otherTime,\n        \"outTime\": typeOfTime == 'outTime' ? updatedTime : otherTime,\n      },\n      isZenAdmin: true,\n    }).subscribe(\n      (response: any) => {\n        this.utility.updateLoader(false);\n        if (response) {\n          if (!this.utility.isEmptyOrNullOrUndefined(response[\"data\"]) && response.status[\"statusCode\"] == \"1\") {\n            this.responseData = response[\"data\"];\n          }\n        }\n      },\n      (error) => {\n        this.utility.updateLoader(false);\n      }\n    );\n  }\n  presentOptions(myEvent) {\n    let popover = this.popoverCtrl.create('PopoverPage', {\n      'type': 'obLanding'\n    });\n    popover.present({ ev: myEvent });\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/security-personal/security-personnel-buseslist/security-personnel-buseslist.ts"],"sourceRoot":""}