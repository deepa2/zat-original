{"version":3,"sources":["../../src/container/zen-admin/add-bus/add-bus.module.ts","../../src/container/zen-admin/add-bus/add-bus.ts"],"names":[],"mappings":"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","file":"79.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddBusPage } from './add-bus';\n\n@NgModule({\n  declarations: [\n    AddBusPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddBusPage),\n  ],\n})\nexport class AddBusPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/add-bus/add-bus.module.ts","import { AlertController, ModalController } from 'ionic-angular';\nimport { ViewController } from 'ionic-angular';\nimport { HttpProvider } from './../../../providers/http/http';\nimport { CommonUtilities } from './../../../providers/commonUtilities/commonUtilities';\nimport { Validators } from '@angular/forms';\nimport { FormBuilder } from '@angular/forms';\nimport { FormGroup } from '@angular/forms';\nimport { Component, OnChanges } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AddNewRouteModalComponent } from '../../../components/zenadmin/add-new-route-modal/add-new-route-modal';\n\n\n/**\n * Generated class for the AddBusPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-add-bus',\n  templateUrl: 'add-bus.html',\n})\nexport class AddBusPage {\n\n  private addBusForm: FormGroup;\n  private routeList: any;\n  private submitted = false;\n  private isNewBus: boolean = false;\n  private busDetails: any;\n  private busInchargeDetails: any;\n  private driverDetails: any;\n  private busRouteIndex: any;\n  // private pattern=\"(([A-Za-z]){2,3}(|-)(?:[0-9]){1,2}(|-)(?:[A-Za-z]){2}(|-)([0-9]){1,4})|(([A-Za-z]){2,3}(|-)([0-9]){1,4})\"\n\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private formBuilder: FormBuilder,\n    private utility: CommonUtilities, private httpProvider: HttpProvider, private viewCtrl: ViewController, private alertCtrl: AlertController, private modalCtrl: ModalController) {\n\n    this.addBusForm = this.formBuilder.group({\n      routeName: [{ value: '', disabled: false }, Validators.required],\n      totalSeats: [{ value: '', disabled: false }, [Validators.required, Validators.min(1), Validators.max(50)]],\n      busNumber: [{ value: '', disabled: false }, [Validators.required]],\n    });\n\n    this.isNewBus = this.navParams.get('isNewBus')\n    if (!this.isNewBus) {\n      this.busDetails = this.navParams.get('busData');\n      if (!(this.utility.isEmptyOrNullOrUndefined(this.navParams.get('busInchargeDetails'))))\n        this.busInchargeDetails = this.navParams.get('busInchargeDetails');\n      if (!(this.utility.isEmptyOrNullOrUndefined(this.navParams.get('driverDetails'))))\n        this.driverDetails = this.navParams.get('driverDetails');\n\n      if (!this.utility.isEmptyOrNullOrUndefined(this.busDetails)) {\n        this.addBusForm.setValue({\n          routeName: this.busDetails.routeName,\n          totalSeats: this.busDetails.totalSeats,\n          busNumber: this.busDetails.busNumber\n        })\n        // this.busRouteIndex = this.busDetails.busRouteId;\n      }\n\n    }\n\n\n    this.getAddBusDetailData()\n  }\n\n  ionViewWillEnter() {\n    if (!this.utility.isEmptyOrNullOrUndefined(this.navParams.get(\"selectedDriver\")))\n      this.driverDetails = this.navParams.get(\"selectedDriver\")\n    if (!this.utility.isEmptyOrNullOrUndefined(this.navParams.get(\"selectedBusIncharge\")))\n      this.busInchargeDetails = this.navParams.get(\"selectedBusIncharge\")\n\n\n  }\n\n  gotoAddNewDriver(actionType) {\n    this.navCtrl.push('AddNewDriverPage',\n      {\n        title: actionType,\n        routeId: this.utility.isEmptyOrNullOrUndefined(this.busRouteIndex) ? '' : this.busRouteIndex\n      }\n    )\n  }\n\n  getAddBusDetailData() {\n\n    this.utility.updateLoader(true)\n\n    let getAdminAddBusDetailData = {\n      url: 'getAdminAddBusDetailData',\n      data: {},\n      isZenAdmin: true\n    }\n\n    this.httpProvider.http.commonService(getAdminAddBusDetailData).subscribe((response: any) => {\n      if (response) {\n        this.utility.updateLoader(false);\n        if (!this.utility.isEmptyOrNullOrUndefined(response['data'])) {\n          this.routeList = response['data'].busRouteList\n          if (!this.isNewBus) {\n            this.getRouteId(this.busDetails.routeName)\n          }\n        }\n      }\n      if (response.status[\"statusCode\"] == '16') {\n        // this.showNoPassPage = true;\n        this.utility.presentAlert(response.status[\"statusMessage\"]);\n      }\n    }, (error) => {\n      this.utility.updateLoader(false);\n    });\n  }\n\n  verifySubmitDetails() {\n    if (this.addBusForm.invalid) {\n      this.submitted = true\n      // this.utility.presentAlert(\"Kindly select all the fields\")\n      return;\n    } else {\n      this.utility.presentConfirmation(this.isNewBus ? \"Do you want to add new bus?\" : \"Do you want to update bus details?\").then((res) => {\n        this.addUpdateBus()\n      }, (err) => { });\n    }\n  }\n\n  addUpdateBus() {\n    this.utility.updateLoader(true);\n    let getAdminAddUpdateBusRouteMapping;\n    if (!this.isNewBus) {\n      getAdminAddUpdateBusRouteMapping = {\n        url: 'getAdminAddUpdateBusDetailsData',\n        data: {\n          \"busId\": this.busDetails.busId,\n          \"busRouteId\": this.busRouteIndex,\n          \"driverId\": this.driverDetails.driverId,\n          \"busInchargeId\": this.busInchargeDetails.busInchargeId,\n          \"busInchargeContactNumber\": this.busInchargeDetails.busInchargeContactNumber,\n          \"updationType\": 'update',\n          \"busNumber\": this.addBusForm.get(\"busNumber\").value,\n          \"totalSeats\": this.addBusForm.get(\"totalSeats\").value,\n\n        },\n        isZenAdmin: true\n      }\n    } else {\n      getAdminAddUpdateBusRouteMapping = {\n        url: 'getAdminAddUpdateBusDetailsData',\n        data: {\n          \"busInchargeId\": this.busInchargeDetails ? this.busInchargeDetails.busInchargeId : '',\n          \"updationType\": 'add',\n          \"busNumber\": this.addBusForm.get(\"busNumber\").value,\n          \"totalSeats\": this.addBusForm.get(\"totalSeats\").value,\n          \"busRouteId\": this.busRouteIndex,\n          \"driverId\": this.driverDetails ? this.driverDetails.driverId : '',\n        },\n        isZenAdmin: true\n      }\n    }\n\n    this.httpProvider.http.commonService(getAdminAddUpdateBusRouteMapping).subscribe((response: any) => {\n      if (response) {\n        this.submitted = false;\n        this.utility.updateLoader(false);\n        if (!this.utility.isEmptyOrNullOrUndefined(response['data']) && [1, 23, 24].includes(response.status[\"statusCode\"])) {\n          this.utility.presentAlert(response.status[\"statusMessage\"]).then((res) => {\n            this.navCtrl.pop()\n          })\n        }\n        //  else {\n        //   this.utility.presentAlert(response.status[\"statusMessage\"])\n        // }\n      }\n    }, error => {\n      this.utility.updateLoader(false);\n    });\n  }\n\n  onRouteChange(routeName) {\n    this.getRouteId(routeName)\n  }\n\n  getRouteId(routeName) {\n    this.routeList.map((val) => {\n      if (val.routeName == routeName) {\n        this.busRouteIndex = val.busRouteId;\n      }\n    })\n  }\n  gotoAddNewRouteModal(fieldTitle) {\n    console.log(\"fieldTitle\", fieldTitle)\n    let modal = this.modalCtrl.create(AddNewRouteModalComponent, {\n      'data': {\n        routeList: this.routeList,\n        // redirectGoals: true,\n        // year: this.kraYear\n        // performanceData: this.GoalsForm.get('performanceMeasure').value,\n        // pageTitle: fieldTitle\n      }\n    }, { cssClass: '' })\n    modal.onDidDismiss(data => {\n      // if (data === \"SUBMITTED_DATA_SUCCESSFULLY\") {\n      //   this.navCtrl.pop()\n      //   this.navCtrl.getPrevious().data.submitStatus = \"true\"\n      //   // this.getAssociateData();\n      // }\n\n      console.log(\"data\", data)\n      if (data != null || data != undefined) {\n        let routeData = data['routeDetail'];\n        console.log(\"routeData\", data['routeDetail'])\n        if (data['routeDetail']) {\n          this.addBusForm.get('routeName').setValue(routeData.routeName);\n          this.busRouteIndex = routeData.busRouteId\n\n        }\n        else {\n          this.addBusForm.get('routeName').setValue(data);\n          this.getRouteIdForNewRoute(data)\n        }\n\n        \n        // this.routeName.get('performanceMeasure').markAsDirty()\n        // this.cdr.detectChanges()\n      }\n\n\n\n    });\n    modal.present()\n  }\n\n  getRouteIdForNewRoute(routeName) {\n\n    this.httpProvider.http.commonService({ url: \"getAdminAddUpdateRoute\", isZenAdmin: true, data: { \"routeName\": routeName ,\"updationType\": \"add\"} })\n      .subscribe((response: any) => {\n        if (!this.utility.isEmptyOrNullOrUndefined(response) && !this.utility.isEmptyOrNullOrUndefined(response['data']) && response.status[\"statusCode\"] == '1') {\n          // this.busRouteIndex = routeData.busRouteId\n        console.log(\"response\",response)\n        let responseData=response['data'].busRouteDetailDO;\n        this.busRouteIndex=responseData.busRouteId\n        }\n        \n      }, (err) => {\n        this.utility.updateLoader(false)\n      })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/add-bus/add-bus.ts"],"sourceRoot":""}