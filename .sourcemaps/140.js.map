{"version":3,"sources":["../../src/container/Exit-Module/personal-details/personal-details.module.ts","../../src/container/Exit-Module/personal-details/personal-details.ts"],"names":[],"mappings":"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","file":"140.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PersonalDetailsPage } from './personal-details';\nimport {Attachment} from '../../../providers/attachment/attachment';\n\n@NgModule({\n  declarations: [\n    PersonalDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PersonalDetailsPage),\n  ],\n  providers :[\n    Attachment\n  ]\n})\nexport class PersonalDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/Exit-Module/personal-details/personal-details.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Platform } from 'ionic-angular';\nimport { HttpProvider } from '../../../providers/http/http';\nimport { CommonUtilities } from '../../../providers/commonUtilities/commonUtilities';\nimport { Download } from '../../../providers/download/download';\nimport { Attachment } from '../../../providers/attachment/attachment';\nimport { File } from '@ionic-native/file';\nimport { HttpAngularProvider } from '../../../providers/http-angular/http-angular';\nimport { Data } from '../../../providers/data/data';\n\n/**\n * Generated class for the PersonalDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-personal-details',\n  templateUrl: 'personal-details.html',\n})\nexport class PersonalDetailsPage {\n  personalDetailedData: any;\n  uploadedDocumentUrl: string = '';\n  profileData:any;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private httpProvider: HttpProvider, private utility: CommonUtilities,\n    private download: Download, private attachment: Attachment, private platform: Platform, private file: File, private httpAngularProvider: HttpAngularProvider, private data: Data) {\n    this.personalDetailedData = this.navParams.get('peronalDetails');\n    this.data.getData('loginDetails').then((details:any) => {\n      console.log(details);\n      this.profileData = details.details.userDetails.profilePic;\n    })\n\n  }\n\n  ionViewDidLoad() {\n    if(!this.personalDetailedData.isExitUserEntry){\n      this.utility.presentAlert(this.personalDetailedData.userProfileAlert);\n    }\n    if (this.personalDetailedData.uploadedDocumentUrl) {\n      this.uploadedDocumentUrl = this.personalDetailedData.uploadedDocumentUrl;\n    }\n  }\n\n  uploadDoc() {\n    this.attachment.openDocument('').then((response) => {\n\n      this.uploadFile(response)\n    }).catch((error) => {\n    })\n  }\n\n  uploadFile(Uri) {\n    let fileURI = Uri\n    this.utility.updateLoader(true)\n\n    let formData = new FormData()\n\n    let uploadDocs = {\n      url: \"uploadAnnexure\",\n      data: formData,\n      zenExit: true\n    }\n\n    this.file.resolveLocalFilesystemUrl(fileURI).then((entry: any) => {\n      entry.file((file) => {\n\n        const fileReader = new FileReader()\n        fileReader.readAsArrayBuffer(file)\n        fileReader.onloadend = ev => {\n          let fileType = file.type\n          let fileExt = fileURI.substring(fileURI.lastIndexOf('.') + 1)\n          if (fileType == \"application/msword\") {\n            fileExt = \"doc\"\n          }\n          else if (fileType == \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\") {\n            fileExt = \"docx\"\n          }\n          else if (fileType == \"application/pdf\") {\n            fileExt = \"pdf\"\n          }\n          else if (fileType == \"application/vnd.oasis.opendocument.text\") {\n            fileExt = \"odt\"\n          }\n\n          if (fileType == \"application/pdf\" || fileExt == \"doc\" || fileExt == \"odt\" || fileExt == \"docx\" || fileType == \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\") {\n            let fileSize = this.getFileSize(file.size)\n            if (fileSize <= 5.00) {\n              let imgBlob = new Blob([fileReader.result], { type: fileType })\n\n              let fileName = new Date().getTime()\n              formData.append(\"uploadFile\", imgBlob, `${fileName}.${fileExt}`)\n              console.log(\"uploadFile\", imgBlob, `${fileName}.${fileExt}`)\n\n              /**\n               * Upload documents service call : upload annexture file\n               */\n              this.httpAngularProvider.multimediaService(uploadDocs).subscribe((response: any) => {\n                this.utility.updateLoader(false)\n                if (response) {\n                  if (response.status.statusCode == 1) {\n                    this.utility.presentAlert(\"Annexure uploaded and submitted successfully.\")\n                    if (response && response.details) {\n                      this.uploadedDocumentUrl = response.details.uploadedDocumentUrl;\n                    }\n                    // this.selectedFile = file.localURL.substring(file.localURL.lastIndexOf('/') + 1\n                  }\n                }\n              },\n                error => {\n                  this.utility.updateLoader(false);\n                })\n            }\n            else {\n              this.utility.updateLoader(false)\n              this.utility.presentAlert(\"Please upload a file less than 5mb.\");\n            }\n          }\n          else {\n            this.utility.presentAlert(\"Please upload a valid file.\")\n            this.utility.updateLoader(false)\n          }\n        }\n\n      })\n    }).catch((error) => {\n      this.utility.updateLoader(false)\n    })\n\n  }\n\n  getFileSize(bytes) {\n    if (bytes == 0) return 'n/a'\n    else {\n      let num = (bytes / (1024 ** 2)).toFixed(2);\n\n      return parseFloat(num)\n    }\n\n  }\n  downloadDoc(url) {\n    if (this.platform.is('android')) {\n      this.download.downloadDocument(url, true);\n    } else {\n      this.utility.openBrowserTab(url);\n    }\n  }\n\n  removeDoc() {\n    this.utility.presentConfirmation(\"Do you want to delete the file ?\").then(() => {\n      let param = {\n        url: 'deleteDocument',\n        data: {},\n        zenExit: true\n      }\n      this.httpProvider.http.commonService(param).subscribe((response: any) => {\n        if (response && response.status.statusCode == 1) {\n          this.uploadedDocumentUrl = '';\n        }\n      })\n\n    }).catch(() => { })\n\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/Exit-Module/personal-details/personal-details.ts"],"sourceRoot":""}