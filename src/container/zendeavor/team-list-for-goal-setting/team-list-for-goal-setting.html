<!--
  Generated template for the TeamListForGoalSettingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
      <ion-title *ngIf="!isSearchbarOpened">Team List</ion-title>
      <ion-buttons end *ngIf="this.showHeaderButton && selectedItem !='Reviewer' && !teamListResData?.isExpired">
        <button ion-button class="headerBtn" (click)="sendReminder()">Send Reminder</button>
        <button ion-button icon-only (click)="presentOptions($event)">
          <ion-icon name="more"></ion-icon>
        </button>
      </ion-buttons>
     
      <!-- <button (click)="openSearch()">search associate</button> -->
    </ion-navbar>
  
  </ion-header>
  


<ion-content >
    <ion-segment [(ngModel)]="statusModel" (ionChange)="segmentChanged($event,statusModel)" *ngIf="selectedItem !='Reviewer'">
        <ion-segment-button value="inProgress" class="custom-segment">In Progress: {{pendingListCount}}</ion-segment-button>
        <ion-segment-button value="submitted" class="custom-segment">Submitted: {{submittedListCount}}</ion-segment-button>
        <ion-segment-button value="approved" class="custom-segment">Completed: {{approvedListCount}}</ion-segment-button>
    
    
      </ion-segment>
      <div [ngSwitch]="statusModel">

          <!-- Pending List Code -->
      
          <div *ngSwitchCase="'inProgress'" class="parentDiv" [hidden]="selectedItem =='Reviewer'">
            <ion-list *ngFor="let pendingItem of pendingList; let i=index;" (click)="selectCard(pendingItem,i)">
              <ion-card class="infoClass">
                <div class="divFirst">
                  <ion-item class="padding0 padding-left7">
                    <ion-avatar item-start>
                      <img class="imgCls" [src]="pendingItem?.employeeProfilePic">
                      <img *ngIf="inSelectionMode && pendingItem?.isSelected" class="selectedImg" src="assets/imgs/ZenDeavour/selected.svg">
                    </ion-avatar>
                    <h3 class="empName">{{pendingItem?.employeeName}}</h3>
                    <p>{{pendingItem?.employeeId}}</p>
                  </ion-item>
                </div>
      
                <div class="divSecond">
                  <div class="subDiv">
                    <span class="status font8em">Reminder</span>
                    <span class="statusColor font8em">{{pendingItem?.reminderCount}} Sent</span>
                  </div>
                  <div *ngIf="!teamListResData?.isExpired">
                    <span class="iconSize pd5" (click)="sendReminderPopover($event,pendingItem?.employeeId)">
                      <ion-icon name="more"></ion-icon>
                    </span>
                  </div>
                </div>
              </ion-card>
      
      
      
            </ion-list>
            <div class="nodata " *ngIf="pendingListCount==0">No Data Available</div>
          </div>
          <!-- list of data -->
          <div *ngSwitchCase="'submitted'" class="parentDiv">
      
            <ion-list *ngFor="let submittedItem of submittedList" (click)="openReviewPage(submittedItem)">
              <ion-card class="infoClass">
                <div class="divFirst">
                  <ion-item class="padding0 padding-left7">
                    <ion-avatar item-start>
                      <img class="imgCls" [src]="submittedItem?.employeeProfilePic">
                      <!-- <img *ngIf="inSelectionMode && submittedItem?.isSelected" class="selectedImg"
                        src="assets/imgs/ZenDeavour/selected.svg"> -->
                    </ion-avatar>
      
                    <h3 class="empName">{{submittedItem?.employeeName}}</h3>
                    <p>{{submittedItem?.employeeId}}</p>
                  </ion-item>
                </div>
      
                <div class="divSecond">
                  <div class="subDiv">
                    <span class="status font8em">Date</span>
                    <span class="statusColor font8em">{{submittedItem?.submissionDate | date : 'd MMM yyyy'}}</span>
                  </div>
                  <!-- <div (click)="openPopover($event,submittedItem?.employeeId)" class="padding7px" *ngIf="!teamListResData?.isExpired">
                    <span class="iconSize">
                      <ion-icon name="more"></ion-icon>
                    </span>
                  </div> -->
                </div>
              </ion-card>
      
            </ion-list>
      
            <div class="nodata" *ngIf="submittedListCount==0">No Data Available</div>
          </div>
      
      
          <!-- list of data -->
          <div *ngSwitchCase="'approved'" class="parentDiv">
      
            <ion-list *ngFor="let approvedItem of approvedList" (click)="openReviewPage(approvedItem)">
              <ion-card class="infoClass">
                <div class="divFirst">
                  <ion-item class="padding0 padding-left7">
                    <ion-avatar item-start>
                      <img class="imgCls" [src]="approvedItem?.employeeProfilePic">
                      <!-- <img class="selectedImg" *ngIf="approvedItem?.appraisalStatus =='COMPLETED'" src="assets/imgs/ZenDeavour/ZenDeavour_approved.svg"> -->
                      <!-- <img class="selectedImg" *ngIf="approvedItem?.appraisalStatus=='CLOSED' || approvedItem?.appraisalStatus=='PENDING FOR CLOSE'"
                        src="assets/imgs/ZenDeavour/ZenDeavour_disapproved.svg"> -->
                    </ion-avatar>
                    <h3 class="empName">{{approvedItem?.employeeName}}</h3>
                    <p>{{approvedItem?.employeeId}}</p>
                  </ion-item>
                </div>
      
                <div class="divSecond">
                  <div class="subDiv">
                    <span class="status font8em">Date</span>
                    <span class="statusColor font8em">{{approvedItem?.submissionDate | date : 'd MMM yyyy'}}</span>
      
                  </div>
      
                  <!-- <div (click)="openPopover($event,approvedItem?.employeeId)">
                    <span class="iconSize" >
                      <ion-icon name="more"></ion-icon>
                    </span>
                  </div> -->
                </div>
              </ion-card>
            </ion-list>
      
            <div class="nodata" *ngIf="approvedListCount==0">No Data Available</div>
      
          </div>
      
        
      
      
      
      
        </div>
</ion-content>
