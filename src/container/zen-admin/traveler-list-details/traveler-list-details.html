<!--
  Generated template for the TravelerListDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Travellers List</ion-title>
    </ion-navbar>

</ion-header>


<ion-content class="mainContent">
    <div class="ticket-parent">

        <!-- (click)="openCalendarModal()" busInchargeDetailDOs-->
        <div class="date-container">
            <div>
                <img class="calendar-icon" src="assets/zenAdmin/calendar-img.svg" />
            </div>
            <div>
                <!-- <div class="day-value">{{inchargeDetails?.currDay}}</div> -->
                <div class="display-flex">
                    <div class="currDate">{{busDetails?.date}}</div>
                    <!-- <span class="display-flex">
                <img class="blk-down-arrow" src="assets/zenAdmin/down-arrow.svg" />
              </span> -->
                </div>

            </div>
        </div>
        <div>


            <ion-card color="light" class="ion-card ion-text-center margin5 post-relative">

                <div class="bus-details-card">
                    <div class="busNumber-details">
                        <span>
                            <img class="bus-img" src="assets/zenAdmin/bus-image.svg" />
                        </span>
                        <div class="busNumber-info-card">
                            <span class="colorGrey">
                                Bus
                            </span>
                            <span class="bus-number">
                                {{inchargeDetails?.busNumber}}
                            </span>
                        </div>
                    </div>
                    <div class="busUser-count-details">
                        <div>
                            <img class="grp-image" src="assets/zenAdmin/group-image.svg" />
                        </div>
                        <div class="usersCount"> {{inchargeDetails?.reservedSeats}}/{{inchargeDetails?.totalSeats}}</div>
                    </div>
                </div>
                <div class="profile-wrapper">

                </div>
                <div class="container-items">
                    <div class="route-pic">
                        <img class="route-img" src="assets/zenAdmin/route-icon.svg">
                        <!-- <img class="userpic-bg" src="assets/zenLearn-imgs/User_profile_BG.svg"> -->
                    </div>
                    <div style="display: flex;flex-direction: column;padding-top: 8px;width: 80%;">
                        <span class="associate-name colorGrey">Route</span>
                        <span class="key-value fontWeight">{{inchargeDetails?.busRouteName}}</span>
                    </div>
                </div>
                <div class="driver-info-container">
                    <!-- <div class="user-pic">
            <img class="img-style" [src]="inchargeDetails?.driverProfilePic" onerror="this.src='./assets/imgs/logo.png'">
            <img class="userpic-bg" src="assets/zenLearn-imgs/User_profile_BG.svg">
          </div> -->
                    <div class="profile-img-container">
                        <!-- <img class="ringImg-profile" src="assets/zenLearn-imgs/profile-ring-img.svg" onerror="this.src='assets/imgs/blank.png'" /> -->
                        <img class="userImage" [src]="inchargeDetails?.driverProfilePic" onerror="this.src='assets/imgs/dummy-profile.png'" />
                    </div>
                    <div style="display: flex;flex-direction: column;padding-top: 8px;width: 80%;">
                        <span class="associate-name colorGrey">Driver</span>
                        <span class="key-value fontWeight"> {{inchargeDetails?.driverName}}</span>
                    </div>
                    <div (click)="call(inchargeDetails?.driverNumber)">
                        <img class="phone-image" src="assets/zenAdmin/call-image.svg">
                    </div>
                </div>

            </ion-card>
        </div>
    </div>
    <div class="cotravellers-container">
        <div class="co-traveller-card">
            <div class="co-travller-info">
                <img class="user-icon" src="assets/zenAdmin/co-traveler-icon.svg" onerror="this.src='assets/imgs/dummy-profile.png'" />
                <span class="co-travller-title">Co-Travellers</span>
            </div>
            <div>
                <!-- <ion-buttons end> -->
                <ion-select [(ngModel)]="bookingStatus" class="status-select" interface="popover" (ionChange)="onSelectChange($event)">
                    <ion-option value="All">All</ion-option>
                    <ion-option value="Approved">Approved</ion-option>
                    <!-- <ion-option value="Rejected">Rejected</ion-option>
          <ion-option value="Pending">Pending</ion-option> -->
                    <ion-option value="Cancelled">Cancelled</ion-option>
                </ion-select>
                <!-- </ion-buttons> -->
            </div>
        </div>
        <ng-container *ngIf="(coTravellerList | cotraveller: bookingStatus) as result">
            <div class="profile-info" *ngFor="let coTravellerItem of coTravellerList | cotraveller: bookingStatus">
                <div class="cotraveller-img-container">
                    <!-- <img class="ringImg-profile" src="assets/zenLearn-imgs/profile-ring-img.svg" onerror="this.src='assets/imgs/blank.png'" /> -->
                    <img class="user-icon" [src]="coTravellerItem?.profilePicUrl" onerror="this.src='assets/imgs/dummy-profile.png'" />
                </div>
                <div class="user-details">
                    <div style="display: flex;">
                        <span [ngClass]="{'width-100': !coTravellerItem?.isBusIncharge}" class="username fontWeight">{{coTravellerItem?.userName}}</span>
                        <span class="incharge" *ngIf="coTravellerItem?.isBusIncharge">Incharge</span>
                    </div>
                    <div class="colorGrey fontWt300" *ngIf="coTravellerItem.isNonZensarian">Non-Zensar</div>
                    <div class="colorGrey fontWt300" *ngIf="!coTravellerItem.isNonZensarian">Zensar</div>
                </div>
                <div class="contact-id-container">
                    <span class="id-card"><img src="assets/zenAdmin/id-card-icon.svg" class="id-icon" /></span>
                    <span (click)="call(coTravellerItem?.userName)">
                        <img class="call-users" src="assets/zenAdmin/call-image.svg">
                    </span>
                </div>
            </div>
            <div *ngIf="result?.length <='0'|| coTravellerList.length <= '0'" class="no-data">
                <span>No Data Found</span>
            </div>
        </ng-container>
    </div>
    <ion-fab right bottom (click)="raiseComplaintReq()">
        <div ion-fab>
            <img class="raiseComplaint-icon" src="assets/zenAdmin/raiseComplaint-icon.svg" />
        </div>
    </ion-fab>
</ion-content>