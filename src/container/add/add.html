<ion-header>

    <ion-navbar>
        <ion-title class="pageTitile">
            {{title}}
        </ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="attach($event)">
                <ion-icon [style.transform]="degreeStyle" name="md-attach"></ion-icon>
            </button>
            <button form="ngForm" [disabled]="!addForm.form.valid" ion-button icon-only (click)="send()">
                <ion-icon name="md-send"></ion-icon>
            </button>
            <button ion-button icon-only (click)="presentOptions($event)">
                <ion-icon name="more"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>

<ion-content padding>

    <form id="ngForm" #addForm="ngForm">

        <div *ngIf="navType!='addAnnouncement'">
            <ion-item>
                <ion-textarea #inputToFocus class="singleTextArea" [maxlength]="maxLength" required
                    #addTextArea="ngModel" name='addText' elasticTextArea [(ngModel)]="addText"
                    [placeholder]="placeholderContent">
                </ion-textarea>
            </ion-item>

            <div padding-top class="remainingCharacters" *ngIf="navType!='addAnnouncement'">
                {{maxLength - addForm.form.value.addText?.length}} characters left
            </div>
        </div>

        <div *ngIf="navType=='addAnnouncement'">
            <ion-item>
                <ion-textarea #inputToFocus elasticTextArea name='addText'  required
                    [(ngModel)]="addText" placeholder="Subject">
                </ion-textarea>
            </ion-item>
            <!-- <div class="msgSeperator"></div> -->
            <ion-item>
                <ion-textarea #inputToFocus  class="msgTextarea" elasticTextArea name='addMessege' (ionChange)="trim()" required
                    [(ngModel)]="addMessege" placeholder="Message">
                </ion-textarea>
            </ion-item>
        </div>

    </form>

    <div *ngIf="errorMsg" class="alert-box">
        <div class="alert-icon"><img class="alert-img" src="assets/imgs/alert.svg" /></div>
        <div class="alert-text">{{addType}} cannot be blank</div>
    </div>

    <div *ngIf="imagesList.length > 0"> 
        <multimedia type='add' (remove)="removeAttach($event)" [multimediaItems]='imagesList'></multimedia>
    </div>

</ion-content>