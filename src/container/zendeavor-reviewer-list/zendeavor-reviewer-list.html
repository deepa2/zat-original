<!--
  Generated template for the ZendeavorReviewerListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Team List</ion-title>
    <ion-buttons end (click)="openTeamMeanModal()">
      <!-- <button ion-button class="headerBtn" (click)="sendReminder()">Send Reminder</button>
          <button ion-button icon-only (click)="presentOptions($event)">
            <ion-icon name="more"></ion-icon>
          </button> -->
      <div class="teamMean current-mean-color">
        <div class="teamMean-img-div">
            <img class="teamMean-img" [src]="reviewerListData?.currentMean?.icon" onerror="this.src='assets/menu_icons/1-UpManager.svg'">
        </div>
        <div class="padding-rt-left5 currentMeanTitle">{{reviewerListData?.currentMean?.key}}</div>
        <div> {{reviewerListData?.currentMean?.value}}</div>
        <ion-icon class="padding-rt-left5" name="ios-arrow-down"></ion-icon>
      </div>

    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-segment [(ngModel)]="segmentModel">
    <ion-segment-button value="inProgress" class="custom-segment"> <span>In Progress</span> <span>{{pendingList?.length ||0}}</span> </ion-segment-button>
    <ion-segment-button value="submitted" class="custom-segment"> <span>Submitted</span> <span>{{submittedList?.length ||0}}</span> </ion-segment-button>
    <ion-segment-button value="approved" class="custom-segment"><span>Completed</span> <span>{{approvedList?.length ||0}}</span> </ion-segment-button>
    <ion-segment-button value="moderation" class="custom-segment" [hidden]="!getTeamListData?.isModeration"> <span>Moderation</span> <span> {{moderationList?.length}}</span>
     </ion-segment-button>

  </ion-segment>
  <div [ngSwitch]="segmentModel">

    <div *ngSwitchCase="'inProgress'">
      <div class="associate-card" *ngFor="let pendingItem of pendingList">
        <div class="associate-details">
          <div class="associate-profile-pic"><img [src]="pendingItem?.employeeProfilePic" onerror="this.src='assets/imgs/dummy-profile.png'"></div>
          <div class="associate-info">
            <div class="associate-name">{{pendingItem.employeeName}}</div>
            <div class="associate-id margin-top5">{{pendingItem.employeeId}}</div>
          </div>
        </div>
        <!-- <div>
          <div class="teamMean-container" *ngFor="let teamMean of pendingItem?.teamMeanList">
            <div class="">
              <div class="teamMean">{{teamMean.key}}</div>
              <div>{{teamMean.value}}</div>
            </div>
            <ion-icon name="ios-arrow-forward" class="iconSize"></ion-icon>
          </div>
        </div> -->
        <div class="divSecond">
          <div class="subDiv">
            <span class="status font8em">Reminder</span>
            <span class="statusColor font8em">{{pendingItem?.reminderCount}} Sent</span>
          </div>
          <!-- <div>
            <span class="iconSize pd5" (click)="sendReminderPopover($event,pendingItem?.employeeId)">
              <ion-icon name="more"></ion-icon>
            </span>
          </div> -->

        </div>

      </div>
      <div class="nodata" *ngIf="pendingList?.length==0">No Data Available</div>

    </div>

    <div *ngSwitchCase="'submitted'">
      <div class="associate-card" *ngFor="let submitItem of submittedList" (click)="openKRAPage(submitItem)">
        <div class="associate-details">
          <div class="associate-profile-pic"><img [src]="submitItem?.employeeProfilePic" onerror="this.src='assets/imgs/dummy-profile.png'"></div>
          <div class="associate-info">
            <div class="associate-name">{{submitItem.employeeName}}</div>
            <div class="associate-id margin-top5">{{submitItem.employeeId}}</div>
          </div>
        </div>
        <!-- <div>
          <div class="teamMean-container" *ngFor="let teamMean of submitItem?.teamMeanList">
            <div class="">
              <div class="teamMean">{{teamMean.key}}</div>
              <div>{{teamMean.value}}</div>
            </div>
            <ion-icon name="ios-arrow-forward" class="iconSize"></ion-icon>
          </div>
        </div> -->
        <div class="divSecond">
          <div class="subDiv">
            <span class="status font8em">{{submitItem?.appraiserScore?.key}}</span>
            <span class="statusColor font8em">{{submitItem?.appraiserScore?.value}}</span>
          </div>
          <div (click)="openPopover($event,submitItem)" class="pd5" *ngIf="!isAppraisalDateExpired">
            <span class="font1-6em padding5">
              <ion-icon name="more"></ion-icon>
            </span>
          </div>
        </div>
      </div>
      <div class="nodata" *ngIf="submittedList?.length==0">No Data Available</div>

    </div>
    <div *ngSwitchCase="'approved'">
      <div class="associateCardApproved" *ngFor="let approvedItem of approvedList" (click)="openPreview(approvedItem)">
          <ion-item class="padding0 padding-left7">
          <ion-avatar item-start>
            <img class="imgCls" [src]="approvedItem?.employeeProfilePic" onerror="this.src='assets/imgs/dummy-profile.png'">
            <img class="selectedImg" *ngIf="approvedItem?.appraisalStatus =='COMPLETED'" src="assets/imgs/ZenDeavour/ZenDeavour_approved.svg">
            <img class="selectedImg" *ngIf="approvedItem?.appraisalStatus=='CLOSED' || approvedItem?.appraisalStatus=='PENDING FOR CLOSE'" src="assets/imgs/ZenDeavour/ZenDeavour_disapproved.svg">
          </ion-avatar>
          <h3 class="associate-name">{{approvedItem?.employeeName}}</h3>
          <p>{{approvedItem?.employeeId}}</p>
        </ion-item>
        <!-- <div class="associate-details">
          <div class="associate-profile-pic">
            <img [src]="approvedItem?.employeeProfilePic" onerror="this.src='assets/imgs/dummy-profile.png'">
            <img class="selectedImg" *ngIf="approvedItem?.appraisalStatus =='COMPLETED'" src="assets/imgs/ZenDeavour/ZenDeavour_approved.svg">
            <img class="selectedImg" *ngIf="approvedItem?.appraisalStatus=='CLOSED' || approvedItem?.appraisalStatus=='PENDING FOR CLOSE'" src="assets/imgs/ZenDeavour/ZenDeavour_disapproved.svg">
          </div>
          <div class="associate-info">
            <div class="associate-name">{{approvedItem.employeeName}}</div>
            <div class="associate-id margin-top5">{{approvedItem.employeeId}}</div>
          </div>
        </div> -->
        <!-- <div>
          <div class="teamMean-container" *ngFor="let teamMean of approvedItem?.teamMeanList">
            <div class="">
              <div class="teamMean">{{teamMean.key}}</div>
              <div>{{teamMean.value}}</div>
            </div>
            <ion-icon name="ios-arrow-forward" class="iconSize"></ion-icon>
          </div>
        </div> -->
        <div class="divSecond">
          <div class="subDiv">
            <span class="status font8em">{{approvedItem?.appraiserScore?.key}}</span>
            <span class="statusColor font8em">{{approvedItem?.appraiserScore?.value}}</span>

          </div>
          <!-- <div (click)="openPopover($event,submittedItem?.employeeId)" class="pd5">
            <span class="iconSize">
              <ion-icon name="more"></ion-icon>
            </span>
          </div> -->
        </div>

      </div>

      <div class="nodata" *ngIf="approvedList?.length==0">No Data Available</div>

    </div>

  </div>

</ion-content>