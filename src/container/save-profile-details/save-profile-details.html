<!--
  Generated template for the SaveProfileDetailsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>SaveProfileDetails</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <div style="padding: 5px;
  font-size: .9em;">
    <div>
      <span>
        <img src="assets/imgs/annual-status.svg">
      </span>
      <span>
        {{profileDetails.candidateName}}
      </span>
    </div>
    <div style="display: inline-block; 
    padding: 5px;" [class.selected]="selectedTab == i" (click)="changeTab(i,profileKey.key)"
      *ngFor="let profileKey of profileData; index as i">{{profileKey.key}}</div>
  </div>

  <div>
    <div *ngFor="let profileDetail of profileData; index as i">

      <ion-list *ngIf="selectedTab == i && profileKey == 'Basic Information'">
      <ion-item *ngFor="let profileDetails of profileDetail?.value; index as j">
          <ion-avatar item-start>
            <img [src]="profileDetails?.icon">
          </ion-avatar>
          <p>{{profileDetails?.key}}</p>
          <span>{{profileDetails?.key}}</span>
        </ion-item>
      </ion-list>
      
      <div *ngIf="selectedTab == i && profileKey == 'Matching Jobs'">
        <div class="opening-card" *ngFor="let item of profileDetail?.value; index as i">
          <div class="job-wrapper">
            <div class="job-icon">
              <img style="height: 25px;
              width: 25px;
              margin: 5px;" src="assets/imgs/annual-status.svg" />
              <span>{{item?.srfNo}}</span>
            </div>
            <div class="job-info" (click)="goToJobDetails(item.srfNo)">
              <div class="job-title">{{item?.jobTitle}}</div>
              <div class="skills info"><span><img [src]="item?.skillsIcon"></span>
                <span>{{item?.skills}}</span></div>
              <div class="job-location info"><span><img [src]="item?.locationIcon"></span>
                <span>{{item?.location}}</span></div>
            </div>
            <div class="save-job">
              <ion-icon (click)="$event.stopPropagation()" (click)="bookMarked(item,i)" *ngIf="!item?.isBookmarked"
                name="ios-bookmark-outline"></ion-icon>
              <ion-icon (click)="$event.stopPropagation()" (click)="bookMarked(item,i)" *ngIf="item?.isBookmarked"
                name="bookmark"></ion-icon>
              <ion-icon name="more" (click)="presentpopover($event)"></ion-icon>
            </div>
          </div>
          <div class="job-footer">
            <div class="experience">Exp: {{item?.experience}}</div>
            <div class="referral-Bonus">
              <span><img [src]="item?.profileMatchIcon"></span>
              <span class="matchingProfile">{{item?.profileMatchCount}}</span></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ion-fab bottom right >
    <button (click)="goToCandidateProfile()" ion-fab *ngIf="profileKey == 'Basic Information'"> 
      <ion-icon name="md-create"></ion-icon>
    </button>
    <button ion-fab *ngIf="profileKey == 'Matching Jobs'"> 
      <ion-icon name="ios-options-outline"></ion-icon>
    </button>
  </ion-fab>

</ion-content>