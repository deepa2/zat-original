{"version":3,"sources":["../../src/container/zen-rich-search/zen-rich-search.module.ts","../../src/container/zen-rich-search/zen-rich-search.ts"],"names":[],"mappings":"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","file":"57.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ZenRichSearchPage } from './zen-rich-search';\n\n@NgModule({\n  declarations: [\n    ZenRichSearchPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ZenRichSearchPage),\n  ],\n})\nexport class ZenRichSearchPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-rich-search/zen-rich-search.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController } from 'ionic-angular';\nimport { Observable, Subscription } from 'rxjs';\nimport { FormControl, Validators } from '@angular/forms';\nimport { HttpProvider } from '../../providers/http/http';\nimport { CommonUtilities } from '../../providers/commonUtilities/commonUtilities';\nimport { Clipboard } from '@ionic-native/clipboard';\n/**\n * Generated class for the ZenRichSearchPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-zen-rich-search',\n  templateUrl: 'zen-rich-search.html',\n})\nexport class ZenRichSearchPage {\n\n  private searchItem;\n  private searchControl: FormControl;\n  private showMessage: string = '';\n  private infinteScroll: any = '';\n  private openingsData: any = [];\n  private pastSearches: any = [];\n  private start = 0;\n  private end = 10;\n  private placeHolder = '';\n  private paramsData: any;\n  constructor(public navCtrl: NavController, public navParams: NavParams,private clipBoard: Clipboard, private httpProvider: HttpProvider, private utility: CommonUtilities, private popoverctr: PopoverController) {\n    this.searchControl = new FormControl('', Validators.required)\n    this.paramsData = this.navParams.get('type');\n    if (this.paramsData == 'MY_REFERRALS') {\n      this.placeHolder = 'Search Candidate Name';\n    } else {\n      this.placeHolder = 'JobCode/Location/Grade/Job Title/skills';\n    }\n    //console.log(this.paramsData);\n  }\n\n  ionViewDidLoad() {\n    //console.log('ionViewDidLoad ZenRichSearchPage');\n    this.getShowPastSearches();\n    this.searchControl.valueChanges.debounceTime(1000).subscribe((search) => {\n      if (search && search.trim() != '') {\n        this.start = 0;\n        this.end = 10;\n        //console.log(search);\n        this.pastSearches = [];\n        this.openingsData = [];\n        this.getSearchJobData()\n      } else {\n        this.showMessage = '';\n      }\n\n    })\n  }\n\n  getShowPastSearches() {\n\n    let data = {\n      url: 'getSearchHistory',\n      data: {\n        'start': 0,\n        'end': 50\n      },\n      zenRich: true\n    }\n    this.httpProvider.http.commonService(data).subscribe((response: any) => {\n      //console.log(response)\n      if (response && response.details) {\n        this.pastSearches = response.details;\n      }\n\n    })\n\n  }\n\n  getSearchJobData() {\n    if (this.openingsData.length == 0) {\n      this.utility.updateLoader(true)\n    }\n\n    let url = 'requestData';\n    let param: any = {\n      \"searchKey\": this.searchItem,\n      \"start\": this.start,\n      \"type\": this.paramsData.parameter,\n      \"end\": this.end\n    }\n    this.httpProvider.http\n      .commonService({ url, data: param, zenRich: true })\n      .subscribe(\n        (res: any) => {\n          if (res && res.details) {\n            if (res.details.requestData && res.details.requestData.length > 0) {\n              //console.log(res.details.requestData)\n              this.openingsData = this.openingsData.concat(res.details.requestData);\n              this.showMessage = '';\n\n            } if (this.infinteScroll) {\n              this.infinteScroll.complete();\n              this.infinteScroll = '';\n              return;\n            }\n            if (!res.details.requestData) {\n              this.openingsData = [];\n              this.showMessage = `No data available.`\n            }\n          }\n          this.utility.updateLoader(false);\n        })\n  }\n\n  goToJobDetails(srfNo) {\n    this.navCtrl.push(\"ZenrichJobDetailPage\", { 'srfNo': srfNo })\n  }\n\n  private bookMarked(selectedItem, index) {\n    let bookedmarkValue: boolean;\n    this.openingsData.filter(value => {\n      if (value.srfNo == selectedItem.srfNo) {\n        bookedmarkValue = !value.isBookmarked;\n        value.isBookmarked = !value.isBookmarked;\n\n      }\n    })\n    let param = {\n      url: 'bookmarkSpecificJob',\n      data: {\n        srfNo: selectedItem.srfNo,\n        save: bookedmarkValue\n      },\n      zenRich: true\n    }\n    this.httpProvider.http.commonService(param).subscribe((response: any) => {\n      //console.log(response)\n      this.utility.showToast(response.details.toastMessage);\n    })\n  }\n\n  searchJobs(jobData) {\n    this.searchItem = jobData.searchText;\n    this.pastSearches = [];\n    //this.getSearchJobData();\n  }\n  private loadData(infinteScroll) {\n    this.infinteScroll = infinteScroll;\n    this.start = this.end;\n    this.end += 10;\n    this.getSearchJobData();\n  }\n  private goToCandidateProfile() {\n    this.navCtrl.push('ReferralDetailsPage', {\n      'candidateProfileId': 0\n    })\n  }\n  presentpopover(myEvent,jobCode,jobtitle) {\n    let popover = this\n      .popoverctr\n      .create('PopoverPage', { 'type': 'ZenRich' });\n    popover.present({ ev: myEvent });\n    popover.onDidDismiss((value)=>{\n      if(value!=null){\n        if(value == 'CopyCode'){\n          this.clipBoard.copy(jobCode);\n        }else{\n          this.clipBoard.copy(jobtitle);\n        }\n      }\n      \n    })\n  }\n  formatDate(obj) {\n    return this.utility.formatDate(obj);\n  }\n\n  goToRefDetails(refId, srfNo) {\n    this.navCtrl.push(\"ZenrichRefDetailPage\", { 'referralMappingId': refId, 'srfNo': srfNo })\n  }\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-rich-search/zen-rich-search.ts"],"sourceRoot":""}