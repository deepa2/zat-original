{"version":3,"sources":["../../src/container/zen-admin/non-zensarian/non-zensarian-pass-detail/non-zensarian-pass-detail.module.ts","../../src/container/zen-admin/non-zensarian/non-zensarian-pass-detail/non-zensarian-pass-detail.ts"],"names":[],"mappings":"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","file":"69.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NonZensarianPassDetailPage } from './non-zensarian-pass-detail';\n\n@NgModule({\n  declarations: [\n    NonZensarianPassDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NonZensarianPassDetailPage),\n  ],\n})\nexport class NonZensarianPassDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/non-zensarian/non-zensarian-pass-detail/non-zensarian-pass-detail.module.ts","import { ModalController } from \"ionic-angular\";\nimport { HttpProvider } from \"../../../../providers/http/http\";\nimport { CommonUtilities } from \"../../../../providers/commonUtilities/commonUtilities\";\nimport { Component } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { CancelBuspassModalComponent } from \"../../../../components/zenadmin/cancel-buspass-modal/cancel-buspass-modal\";\n\n/**\n * Generated class for the NonZensarianPassDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-non-zensarian-pass-detail\",\n  templateUrl: \"non-zensarian-pass-detail.html\",\n})\nexport class NonZensarianPassDetailPage\n{\n  private busDetails: any;\n  private responseList: any;\n  private otherDetails: any;\n  private passId: any;\n  private cancelledPassData: any;\n  private isPassCancelled: boolean = false;\n  private cancelMsg: any;\n  private noDataMsg: any;\n  private showNoDataMsg: boolean = false;\n  private isCancelAvailable: boolean = false;\n  private cancelBusDetails: any;\n  private nzUserId: any;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private utility: CommonUtilities,\n    private httpProvider: HttpProvider,\n    private modalCtrl: ModalController\n  )\n  {\n    this.passId = this.navParams.get(\"busId\");\n    this.nzUserId = this.navParams.get(\"nzUserId\");\n  }\n\n  ionViewDidLoad()\n  {\n    console.log(\"ionViewDidLoad PassDetailsPage\");\n    this.getPassDetails();\n  }\n\n  getPassDetails()\n  {\n    this.utility.updateLoader(true);\n    let home = {\n      url: \"getAdminNonZensarianBusPassDetailData\",\n      data: {\n        busPassId: this.passId,\n        nzUserId: this.nzUserId,\n      },\n      isZenAdmin: true,\n    };\n\n    this.httpProvider.http.commonService(home).subscribe(\n      (response: any) =>\n      {\n        if (response)\n        {\n          console.log(\"Bus pass details:::\", response);\n          this.utility.updateLoader(false);\n          if (\n            !this.utility.isEmptyOrNullOrUndefined(response[\"data\"]) &&\n            response.status[\"statusCode\"] == \"1\"\n          )\n          {\n            this.responseList = response[\"data\"];\n            this.busDetails = this.responseList.busPassDetailDO;\n            this.otherDetails = this.responseList.busPassDetailSubDO;\n            this.isCancelAvailable = this.busDetails.isCancelAvailable;\n          } else\n          {\n            this.noDataMsg = response.status[\"statusMessage\"];\n            this.showNoDataMsg = true;\n          }\n        }\n      },\n      (error) =>\n      {\n        this.utility.updateLoader(false);\n      }\n    );\n  }\n  cancelPassReq()\n  {\n    let modal = this.modalCtrl.create(\n      CancelBuspassModalComponent,\n      {\n        passID: this.busDetails.busPassId,\n        isNonZensarian: true,\n        transportType: \"Bus\",\n        requestType: \"cancelPass\",\n      },\n      {\n        cssClass: \"cancel-pass-modal\",\n      }\n    );\n\n    modal.present();\n    modal.onDidDismiss((res) =>\n    {\n      console.log(\"response\", res);\n      this.utility.updateLoader(true);\n      if (res)\n      {\n        if (res.key == \"passCancelled\")\n        {\n          this.utility.updateLoader(false);\n\n          this.isPassCancelled = true;\n          console.log(\"cancelled data\", res.cancelledData);\n          // this.busDetails = ''\n          this.cancelBusDetails = res.cancelledData;\n          this.cancelMsg = res.cancelledData.busPassStatusMessageDetails;\n          console.log(\"cancelMsg\", this.cancelMsg);\n          console.log(\"cancelBusDetails\", this.cancelBusDetails.userName);\n\n          // this.isCancelAvailable = this.busDetails.isCancelAvailable;\n        }\n      } else\n      {\n        this.utility.updateLoader(false);\n      }\n    });\n  }\n  call(number)\n  {\n    this.utility.callNumber(number);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/non-zensarian/non-zensarian-pass-detail/non-zensarian-pass-detail.ts"],"sourceRoot":""}