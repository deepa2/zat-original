{"version":3,"sources":["../../src/container/zen-admin/pass-details/pass-details.module.ts","../../src/container/zen-admin/pass-details/pass-details.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAUjD;IAAA;IAAoC,CAAC;IAAxB,qBAAqB;QARjC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAe;aAChB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,sEAAe,CAAC;aAC1C;SACF,CAAC;OACW,qBAAqB,CAAG;IAAD,4BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZc;AACc;AACyB;AAC7C;AACe;AAC4D;AAErH;;;;;GAKG;AAOH;IAcE,yBAAmB,OAAsB,EAAS,SAAoB,EAAU,OAAwB,EAAU,YAA0B,EAClI,SAA0B;QADjB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,YAAO,GAAP,OAAO,CAAiB;QAAU,iBAAY,GAAZ,YAAY,CAAc;QAClI,cAAS,GAAT,SAAS,CAAiB;QAT5B,oBAAe,GAAY,KAAK,CAAC;QAGjC,kBAAa,GAAY,KAAK,CAAC;QAC/B,sBAAiB,GAAY,KAAK,CAAC;QAOzC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC;QACzC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,EAAE;YAC7E,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC;SACrD;IACH,CAAC;IAED,wCAAc,GAAd;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE;YACvD,IAAI,CAAC,cAAc,EAAE;SACtB;IACH,CAAC;IAED;;;KAGC;IACD,wCAAc,GAAd;QAAA,iBAyBC;QAxBC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,aAAa,CAAC;YACnC,GAAG,EAAE,0BAA0B;YAC/B,IAAI,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,IAAI,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,GAAG;YACnG,UAAU,EAAE,IAAI;SACjB,CAAC,CAAC,SAAS,CAAC,UAAC,QAAa;YACzB,IAAI,QAAQ,EAAE;gBACZ,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC;gBAChC,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI,GAAG,EAAE;oBACpG,IAAI,CAAC,KAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,eAAe,CAAC,EAAE;wBAC5E,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC;wBACpC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,YAAY,CAAC,eAAe;wBACnD,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,kBAAkB;wBACxD,KAAI,CAAC,iBAAiB,GAAG,KAAI,CAAC,UAAU,CAAC,iBAAiB;qBAC3D;yBAAM;wBACL,KAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;wBACrC,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;wBAClD,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;qBAC3B;iBACF;aACF;QACH,CAAC,EAAE,UAAC,KAAK;YACP,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;MAGE;IACF,uCAAa,GAAb;QAAA,iBAyBC;QAxBC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,mIAA2B,EAAE;YAC7D,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,QAAQ;YAClC,YAAY,EAAE,IAAI,CAAC,UAAU,CAAC,eAAe;YAC7C,WAAW,EAAE,YAAY;YACzB,aAAa,EAAE,IAAI,CAAC,WAAW;YAC/B,cAAc,EAAE,KAAK;SACtB,EAAE,EAAE,QAAQ,EAAE,mBAAmB,GAAG,CACpC,CAAC;QAEF,KAAK,CAAC,OAAO,EAAE,CAAC;QAChB,KAAK,CAAC,YAAY,CAAC,UAAC,GAAG;YACrB,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;YAChC,IAAI,GAAG,EAAE;gBACP,IAAI,GAAG,CAAC,GAAG,IAAI,eAAe,EAAE;oBAC9B,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC;oBAChC,KAAI,CAAC,eAAe,GAAG,IAAI;oBAC3B,KAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,aAAa;oBACzC,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,aAAa,CAAC,2BAA2B;iBAC/D;aACF;iBAAM;gBACL,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;aAClC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sBAAsB;IACtB,8BAAI,GAAJ,UAAK,MAAM;QACT,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IA9FU,eAAe;QAJ3B,gEAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;WACG;SACjC,CAAC;oFAe4I;YACvH,YAAe;OAfzB,eAAe,CA+F3B;IAAD,CAAC;AAAA;SA/FY,eAAe,gB","file":"68.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PassDetailsPage } from './pass-details';\n\n@NgModule({\n  declarations: [\n    PassDetailsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PassDetailsPage),\n  ],\n})\nexport class PassDetailsPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/pass-details/pass-details.module.ts","import { ModalController } from \"ionic-angular\";\nimport { HttpProvider } from \"./../../../providers/http/http\";\nimport { CommonUtilities } from \"./../../../providers/commonUtilities/commonUtilities\";\nimport { Component } from \"@angular/core\";\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\nimport { CancelBuspassModalComponent } from \"../../../components/zenadmin/cancel-buspass-modal/cancel-buspass-modal\";\n\n/**\n * Generated class for the PassDetailsPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: \"page-pass-details\",\n  templateUrl: \"pass-details.html\",\n})\nexport class PassDetailsPage {\n  private busDetails: any;\n  private responseList: any;\n  private otherDetails: any;\n  private passId: any;\n  private cancelledPassData: any;\n  private isPassCancelled: boolean = false;\n  private cancelMsg: any;\n  private noDataMsg: any;\n  private showNoDataMsg: boolean = false;\n  private isCancelAvailable: boolean = false;\n  private cancelBusDetails: any;\n  private passReqType: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private utility: CommonUtilities, private httpProvider: HttpProvider,\n    private modalCtrl: ModalController) {\n\n    this.passId = this.navParams.get(\"busId\")\n    if (!this.utility.isEmptyOrNullOrUndefined(this.navParams.get(\"passReqType\"))) {\n      this.passReqType = this.navParams.get(\"passReqType\")\n    }\n  }\n\n  ionViewDidLoad() {\n    if (!this.utility.isEmptyOrNullOrUndefined(this.passId)) {\n      this.getPassDetails()\n    }\n  }\n\n  /**\n * Service call for pass details.\n * Retrieves all the bus pass related date for particular bus id.\n */\n  getPassDetails() {\n    this.utility.updateLoader(true);\n    this.httpProvider.http.commonService({\n      url: \"getBusPassCompleteDetail\",\n      data: { busPassId: this.passId, transportType: this.passReqType == \"shuttle\" ? \"shuttle\" : \"bus\", },\n      isZenAdmin: true\n    }).subscribe((response: any) => {\n      if (response) {\n        this.utility.updateLoader(false)\n        if (!this.utility.isEmptyOrNullOrUndefined(response[\"data\"]) && response.status[\"statusCode\"] == \"1\") {\n          if (!this.utility.isEmptyOrNullOrUndefined(response[\"data\"].busPassDetailDO)) {\n            this.responseList = response[\"data\"]\n            this.busDetails = this.responseList.busPassDetailDO\n            this.otherDetails = this.responseList.busPassDetailSubDO\n            this.isCancelAvailable = this.busDetails.isCancelAvailable\n          } else {\n            this.responseList = response[\"data\"];\n            this.noDataMsg = response.status[\"statusMessage\"];\n            this.showNoDataMsg = true;\n          }\n        }\n      }\n    }, (error) => {\n      this.utility.updateLoader(false);\n    });\n  }\n\n  /**\n  * Opens cancel-pass modal\n  *\n  */\n  cancelPassReq() {\n    let modal = this.modalCtrl.create(CancelBuspassModalComponent, {\n      passID: this.passId,\n      passType: this.busDetails.passType,\n      passValidity: this.busDetails.busPassValidity,\n      requestType: \"cancelPass\",\n      transportType: this.passReqType,\n      isNonZensarian: false,\n    }, { cssClass: \"cancel-pass-modal\", }\n    );\n\n    modal.present();\n    modal.onDidDismiss((res) => {\n      this.utility.updateLoader(true);\n      if (res) {\n        if (res.key == \"passCancelled\") {\n          this.utility.updateLoader(false)\n          this.isPassCancelled = true\n          this.cancelBusDetails = res.cancelledData\n          this.cancelMsg = res.cancelledData.busPassStatusMessageDetails\n        }\n      } else {\n        this.utility.updateLoader(false);\n      }\n    });\n  }\n\n  // Call to user number\n  call(number) {\n    this.utility.callNumber(number);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zen-admin/pass-details/pass-details.ts"],"sourceRoot":""}