{"version":3,"sources":["../../src/container/ZenLearn/dap-courses-list/dap-courses-list.module.ts","../../src/container/ZenLearn/dap-courses-list/dap-courses-list.ts"],"names":[],"mappings":"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","file":"132.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DapCoursesListPage } from './dap-courses-list';\n\n@NgModule({\n  declarations: [\n    DapCoursesListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DapCoursesListPage),\n  ],\n})\nexport class DapCoursesListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/ZenLearn/dap-courses-list/dap-courses-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController } from 'ionic-angular';\nimport { HttpProvider } from '../../../providers/http/http';\nimport { CommonUtilities } from '../../../providers/commonUtilities/commonUtilities';\n\n/**\n * Generated class for the DapCoursesListPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-dap-courses-list',\n  templateUrl: 'dap-courses-list.html',\n})\nexport class DapCoursesListPage {\n\n  private getData: any;\n  private dapCoursesList: Array<any> = [];\n  private selectedCourses: Array<any> = [];\n  private infiniteScroll: any = ''\n  private loadedData: Array<any> = [];\n  private start: any = 0;\n  private end: any = 10;\n  private learningMode: any = '';\n  private showMsg: string = '';\n  private ismsgAvailable: boolean = false;\n  private otherData: string;\n  private otherDataMsg: boolean = false;\n  private filteredData: any = [];\n  private noDataAvaiable: boolean = false;\n  private dapID:any;\n\n  constructor(private navCtrl: NavController, private navParams: NavParams, private httpProvider: HttpProvider, private utility: CommonUtilities,\n    private popoverCtrl: PopoverController) {\n    this.getData = this.navParams.get('listData');\n    if(this.getData.dapID){\n      this.dapID= this.getData.dapID\n    }else{\n      this.dapID = 0;\n    }\n    //console.log(this.getData);\n  }\n\n  ionViewDidLoad() {\n    if (!this.getData.isOtherSelected) {\n      this.getCourseData()\n    }\n\n  }\n\n  getCourseData() {\n    if (this.loadedData.length == 0) {\n      this.utility.updateLoader(true);\n    }\n\n    let params;\n    //console.log('ionViewDidLoad DapCoursesListPage');\n\n    params = {\n      url: 'courses',\n      data: {\n        \"learningId\": this.getData.learningId,\n        \"start\": this.start,\n        \"end\": this.end,\n        \"competencyId\": this.getData.competencyId,\n        \"learningMode\": this.learningMode\n      },\n      zenLearn: true\n    };\n\n    this.httpProvider.http.commonService(params).subscribe((response: any) => {\n      //console.log(response);\n      this.utility.updateLoader(false);\n      if (response.status.statusCode == -3) {\n        this.ismsgAvailable = true;\n        this.showMsg = response.details.responseList;\n      } else if (response && response.details && response.details.responseList.length > 0) {\n        this.loadedData = response.details.responseList;\n        this.noDataAvaiable = false;\n        this.dapCoursesList = this.dapCoursesList.concat(this.loadedData);\n      } else if (response.details.responseList.length == 0 && !this.infiniteScroll) {\n        this.noDataAvaiable = true;\n      }else if(this.infiniteScroll && response.details.responseList.length == 0){\n        this.noDataAvaiable = false;\n      }\n\n      if (this.infiniteScroll) {\n        this.infiniteScroll.complete();\n        this.infiniteScroll = '';\n      }\n    }, error => {\n      //console.log(error);\n      this.utility.updateLoader(false);\n    })\n  }\n\n  selectedCourse(course, index) {\n\n    //console.log(course);\n    this.dapCoursesList.filter((value) => {\n\n      if (this.selectedCourses.length == 0) {\n        if (value.itemId == course.itemId) {\n          value.selectedItem = true;\n          this.selectedCourses.push(course)\n        }\n      } else if (this.selectedCourses.length > 0) {\n        //console.log(this.selectedCourses.indexOf(course))\n        if (this.selectedCourses.indexOf(course) == -1) {\n          if (value.itemId == course.itemId) {\n            value.selectedItem = true;\n            this.selectedCourses.push(course)\n          }\n        } else if (this.selectedCourses.indexOf(course) != -1) {\n          let index = this.selectedCourses.indexOf(course);\n          if (value.itemId == course.itemId) {\n            this.selectedCourses.splice(index, 1)\n            value.selectedItem = false;\n          }\n\n        }\n      }\n    })\n    //console.log(this.dapCoursesList)\n    //console.log(this.selectedCourses)\n\n  }\n\n  addCouses() {\n    if (this.getData.isOtherSelected && !this.otherData) {\n      this.otherDataMsg = true;\n      return;\n    }\n    this.utility.updateLoader(true);\n    let uniqueCourseIds: Array<any> = [];\n    let data: string;\n    if (this.selectedCourses.length > 0) {\n      this.selectedCourses.filter(value => {\n        uniqueCourseIds.push(value.itemId)\n      })\n    } else {\n      uniqueCourseIds = this.otherData.split(\",\");\n\n    }\n\n    //console.log(uniqueCourseIds);\n    let param = {\n      url: 'addPrograms',\n      data: {\n        uniqueIdsList: uniqueCourseIds,\n        dapId: this.dapID\n      },\n      zenLearn: true\n    }\n\n    this.httpProvider.http.commonService(param).subscribe((response: any) => {\n\n      //console.log(response)\n      if (response && response.status.statusCode == 1) {\n        this.utility.updateLoader(false);\n        this.utility.presentAlert(\"Your course(s) have been added successfully\").then(() =>\n          this.navCtrl.pop()\n        )\n      }\n    }, error => {\n      //console.log(error);\n      this.utility.updateLoader(false);\n    })\n  }\n\n  loadCourses(infiniteScroll) {\n    this.infiniteScroll = infiniteScroll;\n    this.start = this.end;\n    this.end = this.end + 10;\n    this.getCourseData();\n  }\n\n  ionViewWillLeave() {\n    if (this.selectedCourses.length > 0) {\n      this.navCtrl.getPrevious().data.dapCourseList = this.selectedCourses;\n      this.navCtrl.getPrevious().data.otherList = \"\";\n    } else if (this.otherData) {\n      this.navCtrl.getPrevious().data.otherList = this.otherData\n      this.navCtrl.getPrevious().data.dapCourseList = [];\n    }\n\n  }\n\n  presentOptions(myEvent) {\n\n    let popover = this\n      .popoverCtrl\n      .create('PopoverPage', { data: { 'type': 'dapCourseList', 'filteredData': this.filteredData } });\n\n    popover.present({ ev: myEvent });\n\n    popover.onDidDismiss((value) => {\n      \n      //console.log(value)\n      if (value) {\n        this.filteredData = value;\n        let learningModes: Array<any> = [];\n        this.filteredData.filteredValues.filter(val => {\n          if (val.checked) {\n            learningModes.push(val.value)\n          }\n        })\n        if (learningModes.length > 0) {\n          this.learningMode = learningModes.toString();\n          this.start = 0;\n          this.end = 10;\n          this.dapCoursesList = [];\n          this.loadedData = [];\n          this.getCourseData()\n        }\n      }\n\n\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/ZenLearn/dap-courses-list/dap-courses-list.ts"],"sourceRoot":""}