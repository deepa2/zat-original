{"version":3,"sources":["../../src/container/dashboard/dashboard.module.ts","../../src/container/dashboard/dashboard.ts"],"names":[],"mappings":"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","file":"111.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DashboardPage } from './dashboard';\nimport {ComponentsModule} from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    DashboardPage,\n  ],\n  imports: [\n    ComponentsModule,       \n    IonicPageModule.forChild(DashboardPage),\n  ],\n})\nexport class DashboardPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/dashboard/dashboard.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Navbar, PopoverController } from 'ionic-angular';\nimport { Data } from '../../providers/data/data';\nimport { Store } from \"@ngrx/store\";\nimport * as fromStore from '../../store';\nimport { Observable } from \"rxjs\";\nimport { Subscription } from 'rxjs/Subscription';\nimport { CommonUtilities } from '../../providers/commonUtilities/commonUtilities';\n\n@IonicPage()\n@Component({\n  selector: 'page-dashboard',\n  templateUrl: 'dashboard.html',\n})\nexport class DashboardPage {\n  private profileImg: string;\n  private dashboardData: any;\n  private userDashboardData: any;\n  private pageTitle: string;\n  private loading$: Observable<any>;\n  private notificationCount: number;\n  private showDashboard: boolean = true;\n  private userDetails: any;\n  private dashboardDetail: any;\n  @ViewChild(Navbar) navBar: Navbar;\n\n  private _dashboardListener: Subscription = new Subscription();\n  private _notificationListener: Subscription = new Subscription();\n\n  constructor(private navCtrl: NavController, private navParams: NavParams, private data: Data, private popoverCtrl: PopoverController,\n    private store: Store<fromStore.AppState> , private utilitiy:CommonUtilities) {\n      this.utilitiy.updateLoader(true)\n    this.dashboardDetail = {\n      \"type\": \"My Dashboard\",\n    }\n  }\n\n  setBackButtonAction() {\n    this.navBar.backButtonClick = () => {\n\n      if (!this.showDashboard) {\n        this.showDashboard = true;\n      } else {\n        this.navCtrl.pop();\n      }\n\n    }\n  }\n\n  ionViewDidLoad() {\n    this.getLoginStateFromStore();\n    this.getDashboardData();\n    this.utilitiy.updateLoader(false)\n    this.setBackButtonAction();\n    this.getHomeData();\n\n    this.pageTitle = this.navParams.get('pageTitle');\n  }\n\n  ionViewWillEnter() {\n    // this.loading$ = this.store.select<any>(fromStore.getDashboardLoading);\n  }\n\n  getLoginStateFromStore() {\n\n    this.data.getData('loginDetails').then((res:any) => {\n      if (res.userRolesDetails && res.userRolesDetails.userDetails) {\n        this.profileImg = res.userRolesDetails.userDetails.profileImage;\n      }\n\n    })\n  }\n\n  getDashboardData() {\n    this.store.dispatch(new fromStore.GetDashboardDataAction('getDashboardData'));\n    return new Promise(resolve => {\n      this._dashboardListener = this.store.select<any>(fromStore.getDashboardState).subscribe(response => {\n        if (response.pending == false) {\n          this.dashboardData = response.data;\n          resolve();\n        }\n      }, err => {\n      })\n    })\n  }\n\n  getUserDashboardData(dashboardItem) {\n\n    if (dashboardItem.isClickable) {\n\n      this.showDashboard = false;\n\n\n\n      this.store.dispatch(new fromStore.GetUserDashboardDataAction('getMyDashboardData'));\n\n      this._dashboardListener = this.store.select<any>(fromStore.getDashboardState).subscribe(response => {\n        if (response) {\n\n          this.userDashboardData = response.userData;\n        }\n\n      })\n\n    }\n\n\n  }\n\n  goToProfile() {\n    this.navCtrl.push(' NewProfilePage', {\n      'profileType': this.dashboardDetail.type,\n      'userId': this.dashboardDetail.employeeId\n    });\n  }\n\n  redirectTo() {\n    this.navCtrl.push('DashboardDetailPage');\n  }\n\n  goToPage(page) {\n    if (page == 'SearchPage') {\n      this.navCtrl.push(page, { 'searchType': 'query' });\n    } else {\n      this.navCtrl.push(page);\n    }\n\n  }\n\n  getNotificationCount() {\n    this._notificationListener = this.store.select<any>(fromStore.getMiscData).subscribe((res) => {\n      this.notificationCount = res.myUnreadNotificationCount;\n    });\n  }\n\n\n  presentOptions(myEvent) {\n\n    let popover = this\n      .popoverCtrl\n      .create('PopoverPage', { 'type': 'others' });\n\n    popover.present({ ev: myEvent });\n  }\n\n  ionViewWillLeave() {\n    this._dashboardListener.unsubscribe();\n    this._notificationListener.unsubscribe();\n  }\n\n  getHomeData() {\n    this.store.select<any>(fromStore.getMiscData).subscribe(response => {\n      if (response && response.userDetails) {\n        this.userDetails = response.userDetails\n        this.dashboardDetail.employeeName = this.userDetails.employeeName.substring(0, this.userDetails.employeeName.indexOf(\" \"))\n        this.dashboardDetail.employeeProfilePic = this.userDetails.employeeProfilePic\n        this.dashboardDetail.employeeId = this.userDetails.employeeId\n      }\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/dashboard/dashboard.ts"],"sourceRoot":""}