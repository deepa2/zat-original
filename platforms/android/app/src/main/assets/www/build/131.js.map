{"version":3,"sources":["../../src/container/ZenLearn/dap-detail/dap-detail.module.ts","../../src/container/ZenLearn/dap-detail/dap-detail.ts"],"names":[],"mappings":"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","file":"131.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DapDetailPage } from './dap-detail';\nimport { ComponentsModule } from '../../../components/components.module';\nimport { NgCircleProgressModule } from 'ng-circle-progress';\n\n@NgModule({\n  declarations: [\n    DapDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(DapDetailPage),\n    ComponentsModule,\n    NgCircleProgressModule,\n  ],\n})\nexport class DapDetailPageModule  { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/ZenLearn/dap-detail/dap-detail.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, PopoverController, ModalController } from 'ionic-angular';\nimport { CommonUtilities } from '../../../providers/commonUtilities/commonUtilities';\nimport { ViewController } from 'ionic-angular/navigation/view-controller';\nimport { HttpProvider } from '../../../providers/http/http';\nimport { ZenlearnOnTheJobComponent } from '../../../components/zenlearn-on-the-job/zenlearn-on-the-job';\nimport { GetterSetter } from '../../../providers/getterSetter/getterSetter';\nimport * as moment from 'moment';\n\n@IonicPage()\n@Component({\n  selector: 'dap-detail',\n  templateUrl: 'dap-detail.html',\n})\nexport class DapDetailPage {\n\n  // old code\n  // private pageTitle: string;\n  // private userId: number;\n  // private role: string;\n  // private dapItemsts;\n  // private dapItemstsData;\n  // private dapListItem;\n  // private prevPage: string;\n  // private dapItemInfo: any = {}\n  // private dapDetailData: any = {}\n  // private selectedTab = 0;\n  // private dapStatus;\n  // private isComingFromNotification;\n\n\n  // ********************new code *******\n\n  private dapDetailedData: any;\n  private role: string;\n  private dapList: any;\n  private dapSection: any;\n  private userDetails: any;\n  private managersComments: string = '';\n  private employeeId:string;\n\n\n  constructor(private viewCtrl: ViewController, private utilities: CommonUtilities, private modalCtrl: ModalController,\n    private navCtrl: NavController, private navParams: NavParams, private popoverCtrl: PopoverController, private httpProvider: HttpProvider, private getSet: GetterSetter) {\n\n    \n\n    //************************* new code ***************************/\n    let detailedData = this.navParams.get('viewDapDetails');\n    this.role = detailedData.role\n    this.dapDetailedData = detailedData.data;\n    this.userDetails = this.getSet.getUserData()\n    \n    if(this.navParams.get('isAssociateDataAvailable')){\n      this.employeeId = this.navParams.get('isAssociateDataAvailable');\n    }else{\n      this.employeeId = this.userDetails.employeeId;\n    }\n    \n\n  }\n  \n\n  // ****************new code***************************\n  ionViewWillEnter() {\n    this.getDapDetailedData();\n  }\n\n  getDapDetailedData() {\n    let param;\n    this.utilities.updateLoader(true);\n    if (!this.dapList) {\n      param = {\n        url: 'viewDAP',\n        data: {\n          dapId: this.dapDetailedData.dapId,\n          role: this.role,\n          status: this.dapDetailedData.status\n        },\n        zenLearn: true\n      }\n    } else {\n      param = {\n        url: 'viewDAP',\n        data: {\n          dapId: this.dapDetailedData.dapId,\n          role: this.role,\n          status: this.dapList.status\n        },\n        zenLearn: true\n      }\n    }\n\n\n    this.httpProvider.http.commonService(param).subscribe((response: any) => {\n      //console.log(response);\n      this.utilities.updateLoader(false);\n      if (response && response.details) {\n        this.dapList = response.details.responseList.dap;\n        this.dapSection = response.details.responseList.dapSections\n\n      } else {\n\n      }\n    }, error => {\n      this.utilities.updateLoader(false);\n    })\n  }\n\n  getDapDetail(dapData) {\n    console.log(dapData);\n    if (dapData.sectionTitle == 'On the Job') {\n      let selectedDapData = {\n        'selectedDapId': this.dapDetailedData.dapId,\n        'dapDetails': dapData,\n        'role': this.role,\n        'dapStatus': dapData.isSubmitAvailable\n      }\n      let modal = this.modalCtrl.create(ZenlearnOnTheJobComponent, { 'zenLearnData': selectedDapData }, { cssClass: 'onTheJOb' })\n      modal.present();\n      modal.onDidDismiss((data) => {\n        if (data) {\n          this.navCtrl.pop();\n        } else {\n          this.getDapDetailedData();\n        }\n\n      });\n\n    } else if (dapData.sectionTitle == 'Peer Learning') {\n      let isComingFromDAP = {\n        isComingFromDAP: true,\n        dapId: this.dapDetailedData.dapId,\n        dapStatus: dapData.isSubmitAvailable\n      }\n      this.navCtrl.push('PeerLearnigPage', { 'isComingFromDAP': isComingFromDAP, 'role': this.role })\n    } else if (dapData.sectionTitle == 'Classroom/Online') {\n      //this.navCtrl.push(\"CourseListPage\", { selectedCourse: 'recommended', showAllFilters: false })\n    }\n  }\n  getStatusValue(item, arrValue) {\n    //console.log(arrValue)\n    let statusObj = arrValue.lov.filter((data) => {\n      if (data.key == item) {\n        return data\n      }\n\n    })\n    // console.log(statusObj)\n    return statusObj[0].value\n  }\n\n  approveReject(type: string) {\n    let message: string;\n    if (type == 'Approved') {\n      message = 'Do you want to approve DAP?';\n    } else {\n      message = 'Do you want to reject DAP?'\n    }\n    this.utilities.presentConfirmation(message).then(() => {\n      this.utilities.updateLoader(true);\n      let data = {\n        url: 'approveOrRejectDap',\n        data: {\n          dapId: this.dapDetailedData.dapId,\n          managerComments: this.managersComments,\n          approvedOrRejected: type\n        },\n        zenLearn: true\n      }\n      this.httpProvider.http.commonService(data).subscribe((response: any) => {\n        console.log(response)\n        this.utilities.updateLoader(false);\n        if (response && response.status) {\n          if (response.status.statusCode == 1) {\n            this.utilities.presentAlert(`DAP ${type.toLowerCase()} successfully !!!!`).then(() => {\n              this.navCtrl.pop();\n            })\n          }\n        }\n      }, error => {\n        this.utilities.updateLoader(false);\n      })\n    })\n      .catch(() => { })\n\n  }\n\n  presentOptions(myEvent) {\n    let popover = this.popoverCtrl.create('PopoverPage', { 'type': 'dapDetails' })\n    popover.present({ ev: myEvent });\n    popover.onDidDismiss(() => {\n      this.exportDap()\n    })\n  }\n\n\n  exportDap() {\n    this.utilities.updateLoader(true);\n    let data = {\n      url: 'sendDAPDetails',\n      data: {\n        \"userId\": this.userDetails.employeeId,\n        \"dapId\":this.dapDetailedData.dapId,\n        \"learningType\": \"\"\n      },\n      zenLearn: true\n    }\n    this.httpProvider.http.commonService(data).subscribe((response: any) => {\n      console.log(response)\n      this.utilities.updateLoader(false);\n      this.utilities.showToast(\"Please check your Email for DAP report.\");\n    },\n      error => {\n        this.utilities.updateLoader(false);\n      })\n  }\n\n  openCourses(data) {\n    console.log(data);\n    if(data == 'addProgram'){\n      let dapDetails = {\n        dapId: this.dapDetailedData.dapId,\n        dapSectionId: 3,\n        userId: this.employeeId\n      }\n      this.navCtrl.push('SelectedCoursesPage', { 'dapId': dapDetails })\n    }\n   \n  }\n\n  dateConversion(input) {\n    let date = moment(input).format('D-MMM-YYYY');\n    return date;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/ZenLearn/dap-detail/dap-detail.ts"],"sourceRoot":""}