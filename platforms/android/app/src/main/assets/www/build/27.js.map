{"version":3,"sources":["../../src/container/zents/timesheet/time-entry/time-entry.module.ts","../../src/container/zents/timesheet/time-entry/time-entry.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TimeEntryPage } from './time-entry';\nimport { ComponentsModule } from '../../../../components/components.module';\n\n@NgModule({\n  declarations: [\n    TimeEntryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TimeEntryPage),\n    ComponentsModule\n  ]\n})\nexport class TimeEntryPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zents/timesheet/time-entry/time-entry.module.ts","import { Subscription } from 'rxjs/Subscription';\nimport { Component, ViewChild, NgZone } from '@angular/core';\nimport { IonicPage, NavController, ModalController, Slides, NavParams, ToastController } from 'ionic-angular';\nimport { CalenderModel } from '../../../../components/calender-model/calender-model';\nimport { CommonUtilities } from '../../../../providers/commonUtilities/commonUtilities';\nimport { HttpProvider } from '../../../../providers/http/http';\nimport { version } from '@app/env';\nimport moment from 'moment';\nimport { DatePipe } from '@angular/common';\nimport { TsEditModalComponent } from '../../../../components/ts-edit-modal/ts-edit-modal';\nimport { TimeEntryPopupComponent } from '../../../../components/time-entry-popup/time-entry-popup';\n\n/**\n * Generated class for the TimeEntryPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-time-entry',\n  templateUrl: 'time-entry.html',\n})\nexport class TimeEntryPage {\n\n  private pageTitle: string = null;\n  private data = {\n    loginDetails: null,\n    projectMigratedData: null,\n    type: 'time-entry'\n  }\n  private calendarDates: Array<any> = [];\n  private enabledDates: Array<any> = [];\n  private calendarInfo: any;\n  private calenderStartDate: string;\n  private calenderEndDate: string;\n  private timesheetData: any;\n  private selectedDate: string = null;\n  private subPages: any = [];\n  private notificationData: any;\n  private months = {\n    currentMonth: null,\n    lastMonth: null\n  }\n  private tsFlags = {\n    disableSubmit: false,\n    showZencoreMigratedMessage: false\n  }\n\n  @ViewChild(Slides) slides: Slides;\n\n  private _calendarInfoSubsciption: Subscription = new Subscription();\n  private _getTimeEntryInfoSubsciption: Subscription = new Subscription();\n\n  constructor(private navCtrl: NavController, private modalCtrl: ModalController,\n    private utility: CommonUtilities, private httpProvider: HttpProvider, public datePipe: DatePipe,\n    private navParams: NavParams, private toastCtrl: ToastController, private zone: NgZone) {\n\n    //check for notification data;\n    if (this.navParams.get('isComingfromNotification')) {\n      this.notificationData = this.navParams.get('isComingfromNotification');\n      //console.log(this.notificationData);\n      this.pageTitle = this.notificationData.pageTitle;\n      // this.utility.presentAlert(JSON.stringify(this.pageTitle),\"pagetitle\")\n    } else {\n      this.pageTitle = this.navParams.get('pageTitle');\n      // this.subPages = this.navParams.get('subData');\n      // this.utility.presentAlert(JSON.stringify(this.pageTitle),\"pagetitle\")\n    }\n\n  }\n\n  ionViewDidLoad() {\n\n    // this.getCalendarInfo();\n    this.getAccessData();\n\n    //check whether coming through notification\n    // if (this.notificationData) {\n    //   this.getAccessData();\n    // } else {\n    //   this.getCalendarInfo();\n    // }\n  }\n\n  ionViewWillEnter() {\n  }\n\n  addTask() {\n    if (this.selectedDate) {\n      new Promise((resolve, reject) => {\n        let reqData = {\n          \"selectedDate\": this.selectedDate,\n          \"hideProjectTask\": this.timesheetData.onlyZenCOREProjectAllocation,\n          \"taskAndTimesheetDetails\": this.timesheetData.taskAndTimesheetDetails,\n          \"isPayrollToBeFilledZeroHours\": this.canFillZeroHoursFlag(),\n          resolve: resolve\n        }\n        this.navCtrl.push('AddTaskPage', { 'timeEntryData': reqData });\n      }).then((userMessage: string) => {\n        this.getTimeEntryDetails(this.selectedDate, userMessage);\n      });\n    }\n  }\n\n\n  getAccessData() {\n    let data = {};\n    let url = 'accessDetails';\n    this.utility.updateLoader(true)\n    this.httpProvider.http.zentsCommonGETService({ url, data, overtime: true }).subscribe((res: any) => {\n      //console.log(res);\n      //this.utility.presentAlert(JSON.stringify(res.data),\"access data\")\n      if (res && res.data) {\n        if (res.data.AdditionalHoursApplicable && res.data.IsExcempt) {\n          this.subPages.push({ 'pageName': \"AdditionalHoursPage\", 'title': 'Additional Hours' });\n        }\n        if (res.data.AdditionalHoursApplicable && !res.data.IsExcempt) {\n          this.subPages.push({ 'pageName': \"AdditionalHoursPage\", 'title': 'Overtime' });\n        }\n        if (res.data.IsApprover) {\n          this.subPages.push({ 'pageName': \"ApprovalDashboardPage\", 'title': 'Timesheet Approval' });\n\n        }\n        if (res.data.reportAccess) {\n          this.subPages.push({ 'pageName': \"ReportPage\", 'title': 'Reports' });\n        }\n        this.subPages.push({ 'pageName': \"MyAttendanceTimesheetPage\", 'title': 'My Timesheet' });\n      }\n\n      // this.utility.updateLoader(false)\n      this.getCalendarInfo();\n    },\n      (error) => {\n        this.utility.updateLoader(false);\n      })\n\n    // console.log(this.subPages);\n  }\n\n\n  getMonthwiseCompliancePercentage(month: string, monthseq: string) {\n    this.utility.updateLoader(true);\n\n    let url = 'getMonthwiseCompliancePercentage';\n    let data = { \"month\": month }\n\n    this.httpProvider.http.zentsCommonService({ url, data, dashboard: true }).subscribe((res: any) => {\n      this.utility.updateLoader(false);\n      if (res && res.data) {\n        let percentage = res.data.percentage;\n        let details = res.data.dateDetails;\n        let data = {\n          pendingDates: details.notFilledDates,\n          rejectedDates: details.rejectedDates,\n          percentage: percentage\n        }\n        this.openModal(monthseq, data);\n      }\n    }, (err) => {\n      this.utility.updateLoader(false);\n    })\n  }\n\n  /**\n   * Open Calendar Modal to show compliance and not submitted dates\n   * @param monthseq : Specifies the month sequence .i.e lastmonth or currentmonth\n   * @param dataObj : Data to be passed to calendar-modal .i.e rejected dates,pending dates,compliance percentage\n   */\n  openModal(monthseq, dataObj) {\n    let modal = this.modalCtrl.create(CalenderModel, {\n      dataParams: {\n        rejectedDates: dataObj.rejectedDates,\n        pendingDates: dataObj.pendingDates,\n        percentage: dataObj.percentage,\n        key: monthseq,\n        type: 'time-entry',\n        calendarDates: this.enabledDates,\n        selectedDate: this.selectedDate\n      }\n\n    }, {\n      cssClass: 'calendermodel',\n    });\n\n    modal.present();\n    modal.onDidDismiss((res) => {\n      if (res) {\n        let d = this.enabledDates.filter((obj) => obj.date == res)\n        if (d && d.length > 0) {\n          this.calendarDates = this.enabledDates;\n          this.getTimeEntryDetails(res, '', true);\n        } else {\n          this.calendarDates = this.getDates(res);\n          this.getTimeEntryDetails(res, '', true);\n        }\n      }\n    })\n  }\n  /**************** Modal for Time Entry Sub-Menu****************/\n  openTimeEntryModal() {\n    let modal = this.modalCtrl.create(TimeEntryPopupComponent, { 'submainData': this.subPages }, {\n      cssClass: 'time-entry-modal',\n      enableBackdropDismiss: true,\n      showBackdrop: true\n    })\n    modal.onDidDismiss((data) => {\n      if (data) {\n        if (data.homePageConfigrationName == 'Approval Dashboard') {\n          this.navCtrl.push(\"ApprovalDashboardPage\");\n        }\n        else if (data.homePageConfigrationName == 'My Timesheet') {\n          this.navCtrl.push('MyAttendanceTimesheetPage')\n        }\n        // for zenDeavor redirection \n        else {\n          this.navCtrl.push(data.pageName, {\n            'pageTitle': data.title\n          });\n        }\n      }\n    })\n\n    modal.present();\n\n  }\n\n  /**\n   * Get Calendar Specific Data\n   */\n  getCalendarInfo() {\n    if (!this.notificationData) {\n      this.utility.updateLoader(true);\n    }\n\n    const url = 'calenderInfo';\n    const data = {\n      \"version\": version\n    }\n    this._calendarInfoSubsciption = this.httpProvider.http.zentsCommonService({ url, data, timeentry: true }).subscribe((res: any) => {\n\n\n      // to resolve calander display issue on some devices zone is added\n      this.zone.run(() => {\n        this.calendarInfo = res.data;\n        //this.utility.presentAlert(JSON.stringify(this.calendarInfo),\"calender data\")\n        let dates = this.calendarInfo.CalendarDates;\n\n        //set calendar start date and end date\n        this.calenderStartDate = dates.timesheetStartDate;\n        this.calenderEndDate = dates.endDate;\n        this.months.currentMonth = dates.currentMonth;\n        this.months.lastMonth = dates.lastMonth;\n\n        //get range of dates in an array to maintain slider\n        this.calendarDates = this.getDateArray(this.calenderStartDate, this.calenderEndDate);\n\n        //Used in month wise compliance calender\n        this.enabledDates = this.getDateArray(this.calenderStartDate, this.calenderEndDate);\n        if (this.notificationData) {\n          this.getTimeEntryDetails(this.notificationData.notificationData.startDate);\n        } else {\n          this.getTimeEntryDetails(this.calenderEndDate);\n        }\n\n        if (this.calendarInfo.ProjectAllocationFlag) {\n          this.presentToast(this.calendarInfo.ProjectAllocationFlag);\n        }\n      })\n\n\n\n    }, (err) => {\n      this.utility.updateLoader(false);\n    })\n  }\n\n  /**\n   * Get Time-entry details for the selected date\n   * @param selDate : get time-entry details for this date\n   * @param message : dispaly message in toast if there is any action performed(save,submit,delete)\n   * @param refreshLoader : true only when no action(save,submit,delete) is performed\n   */\n  getTimeEntryDetails(selDate, message = \"\", refreshLoader = false) {\n    this.selectedDate = selDate;\n    if (refreshLoader) {\n      this.utility.updateLoader(true);\n    }\n    const url = 'timeEntryDetails';\n    const data = {\n      \"version\": version,\n      \"selectedDate\": selDate\n    }\n    this._getTimeEntryInfoSubsciption = this.httpProvider.http.zentsCommonService({ url, data, timeentry: true }).subscribe((res: any) => {\n      this.utility.updateLoader(false);\n      //this.utility.presentAlert(JSON.stringify(res.data),\"time entry details\")\n      if (res && res.data) {\n        let data = res.data;\n        let list = [];\n        this.timesheetData = data;\n        this.data.loginDetails = this.timesheetData.staffLoginLogoutDetails;\n\n        this.calendarDates.map((obj, index) => {\n          if (obj.date == selDate) {\n            this.slides.slideTo(index, 500);\n          }\n        })\n\n        //disable submit if there are no saved timesheet\n        if (data.taskAndTimesheetDetails.length > 0) {\n          data.taskAndTimesheetDetails.map((timesheet: any) => {\n            if (timesheet.taskList.length > 0) {\n              timesheet.taskList.map((task: any) => {\n                if (task.approvalStatus == '-1' || task.approvalStatus == '3') {\n                  list.push(task);\n                }\n              })\n            }\n          })\n        }\n        this.tsFlags.disableSubmit = list.length > 0 ? false : true;\n\n        //show message for migrated projects\n        if (data.taskAndTimesheetDetails.length == 0) {\n          this.getProjectList();\n        }\n      }\n\n      this.utility.showToast(message);\n\n    }, (err) => {\n      this.timesheetData = null;\n      this.utility.updateLoader(false);\n    })\n  }\n\n  onDateSelect(obj: any) {\n    if (!obj.isRejectedTimesheet) {\n      this.selectedDate = obj.date;\n      this.getTimeEntryDetails(this.selectedDate, '', true);\n    }\n  }\n\n  //open edit tasks modal\n  async presentEditModal(task: any, timesheet: any, taskAndTimesheetDetails: Array<any>) {\n\n    let editModal = this.modalCtrl.create(TsEditModalComponent, {\n      taskObj: task,\n      isFixedBidProject: timesheet.isFixedBidProject,\n      milestoneDetails: timesheet.milestoneDetails,\n      billability: timesheet.billability,\n      selectedDate: this.selectedDate,\n      isTimesheetEditable: this.timesheetData.isTimesheetEditable,\n      isPayrollToBeFilledZeroHours: this.canFillZeroHoursFlag()\n    });\n    editModal.present();\n    editModal.onDidDismiss((res: any) => {\n      if (res) {\n        this.editAndSaveTimesheet(res, task, taskAndTimesheetDetails);\n      }\n    });\n  }\n\n  /**\n   * Method to Perform Save Action\n   * @param obj : It contains the edited data\n   * @param taskData : Task object\n   * @param taskAndTimesheetDetails : Task and timesheet details list \n   */\n  editAndSaveTimesheet(obj: any, taskData: any, taskAndTimesheetDetails: Array<any>) {\n    this.utility.updateLoader(true);\n    //reset timesheet if submitted timesheet edited to save\n    let taskIds = this.getResetTaskIds(taskAndTimesheetDetails);\n\n    //update required fields after edit\n    taskData.selectedDate = this.selectedDate;\n    taskData.totalEfforts = this.utility.convertTime(obj.efforts, 1);\n    taskData.nonbillableEffort = this.utility.convertTime(obj.efforts, 1);;\n    taskData.billableEffort = '0.00';\n    if (obj.comments) {\n      taskData.comments = obj.comments;\n    }\n    if (obj.billability) {\n      taskData.billablityFlag = obj.billability;\n      taskData.billabilityFlag = obj.billability;\n    } else if (obj.defaultBillability) {             //default value set if user doesn't select billability\n      taskData.billablityFlag = obj.defaultBillability;\n      taskData.billabilityFlag = obj.defaultBillability;\n    }\n    if (obj.milestoneName) {\n      taskData.milestoneName = obj.milestoneName;\n    }\n    if (obj.bapPaymentScheduleKey) {\n      taskData.bapPaymentScheduleKey = obj.bapPaymentScheduleKey;\n    }\n    if (taskIds && taskIds.length > 0) {\n      taskData.resetTaskIds = taskIds;\n    }\n\n    const url: string = \"processtimeentrytimesheet\";\n    const data = taskData;\n    this.httpProvider.http.zentsCommonService({ url, data, timeentry: true }).subscribe((res: any) => {\n\n      if (res && res.userMessage) {\n        this.getTimeEntryDetails(this.selectedDate, res.userMessage);\n      }\n    }, (err) => {\n      this.utility.updateLoader(false);\n      this.getTimeEntryDetails(this.selectedDate); //if save error occurs restore old state of timesheet\n    })\n  }\n\n  /**\n   * Method to Perform Delete Action\n   * @param taskObj \n   * @param ts_tasklist \n   */\n  deleteTimesheet(taskObj: any, ts_taskAndTimesheetlist?: any) {\n\n    let taskIdList = [];\n    if (ts_taskAndTimesheetlist.length > 0) {\n      ts_taskAndTimesheetlist.map((timesheetList) => {\n        if (timesheetList && timesheetList.taskList.length > 0) {\n          timesheetList.taskList.map(task => {\n            if (task.approvalStatus != 0) {\n              taskIdList.push(task.taskId);\n            }\n          })\n        }\n      })\n    }\n    const url: string = \"detachtimesheet\";\n    const data: any = {\n      \"taskUpdateDate\": taskObj.taskUpdateDate,\n      \"taskId\": taskObj.taskId,\n      \"taskIdList\": taskIdList\n    }\n    this.utility.updateLoader(true);\n    this.httpProvider.http.zentsCommonService({ url, data, timeentry: true }).subscribe((res: any) => {\n\n      if (res && res.userMessage) {\n        this.getTimeEntryDetails(this.selectedDate, res.userMessage);\n      } else {\n        this.getTimeEntryDetails(this.selectedDate, res.userMessage);\n      }\n    }, (err) => {\n      this.utility.updateLoader(false);\n    })\n  }\n\n  refreshTimesheet() {\n    this.getTimeEntryDetails(this.selectedDate, '', true);\n  }\n\n  /**\n   * Return all task id's except fixed holiday\n   * @param timesheetList : Timesheet details list\n   */\n  getResetTaskIds(timesheetList: Array<any>) {\n    let taskIds = [];\n    if (timesheetList.length > 0) {\n      timesheetList.map((timesheet: any) => {\n        if (timesheet && timesheet.taskList.length > 0) {\n          timesheet.taskList.map((task: any) => {\n            if (task.approvalStatus == 2) {\n              // if (task.taskName !== 'FIXED HOLIDAY') {\n              taskIds.push(task.taskId);\n              // }\n            }\n          })\n        }\n      })\n    }\n    if (taskIds.length > 0) {\n      return taskIds;\n    }\n  }\n\n  /**\n   * Retrieve all dates between start and end date\n   */\n  getDateArray = function (start, end) {\n    let dates: Array<{ date: any, day: any, isWeekEnd: boolean }> = [];\n    let startDate = moment(start);\n    let endDate = moment(end);\n\n    while (startDate <= endDate) {\n      dates.push({\n        date: moment(startDate).format(\"YYYY-MM-DD\"),\n        day: moment(startDate, \"YYYY-MM-DD\").format('ddd'),\n        isWeekEnd: (startDate.day() == 6 || startDate.day() == 0) ? true : false\n      });\n      startDate = moment(startDate).add(1, 'days');\n    }\n    return dates.reverse();\n  }\n\n  /**\n   * Retrieve all dates through the rejected date\n   * @param d : rejected date\n   */\n  getDates(d) {\n    let dateArr = [];\n    let endDate = moment(d);\n    let j = 5;\n    let i = 0;\n    while (i <= j) {\n      dateArr.push({\n        date: moment(endDate).format(\"YYYY-MM-DD\"),\n        day: moment(endDate, \"YYYY-MM-DD\").format('ddd'),\n        isWeekEnd: (endDate.day() == 6 || endDate.day() == 0) ? true : false,\n        isRejectedTimesheet: i == 0 ? false : true\n      });\n      if (endDate.day() == 6 || endDate.day() == 0) {\n        j++;\n      }\n      // endDate.setDate(endDate.getDate() - 1);\n      endDate = moment(endDate).subtract(1, \"days\");\n      i++;\n    }\n    return dateArr;\n  }\n\n  //Confirm submit \n  showSubmitConfirmAlert(timesheetList: Array<any>) {\n    let alert = this.utility.presentConfirmation('Are you sure you want to submit this timesheet ?');\n    alert.then(() => {\n      this.submitTimesheet(timesheetList);\n    });\n  }\n\n  /**\n   * \n   * Method to Perform Submit Action\n   */\n  submitTimesheet(list: Array<any>) {\n    let rejectedTimesheetFlag: boolean = false;\n    let rejectedTaskName: string = null;\n\n    let timesheetList: Array<any> = [];\n    if (list && list.length > 0) {\n      list.map(item => {\n        if (item.taskList.length > 0) {\n          item.taskList.map(task => {\n            if (task.approvalStatus !== '0') {\n              //comments mandatory while submitting rejected timesheet\n              if (task.approvalStatus == '3' && task.tsRejected && !task.comments && !rejectedTimesheetFlag) {\n                rejectedTimesheetFlag = true;\n                rejectedTaskName = task.taskName;\n              }\n              timesheetList.push(task);\n            }\n          })\n        }\n      })\n    }\n\n    if (timesheetList.length > 0 && !rejectedTimesheetFlag) {\n      const url: string = \"concludetimeentryprocessing\";\n      const data: any = {\n        \"versions\": version,\n        \"selectedDate\": this.selectedDate,\n        \"timesheetList\": timesheetList,\n        \"extendTimesheetFillingDate\": this.calendarInfo.CalendarDates.extendTimesheetFillingDate\n      }\n      this.utility.updateLoader(true);\n      this.httpProvider.http.zentsCommonService({ url, data, timeentry: true }).subscribe((res: any) => {\n        this.getTimeEntryDetails(this.selectedDate, res.userMessage);\n      }, (err) => {\n        this.utility.updateLoader(false);\n      })\n    }\n    else if (rejectedTimesheetFlag) {\n      // this.utility.presentAlert('Please add remarks for ' + rejectedTaskName + ' task');\n      this.utility.presentAlert('Please add remarks for rejected timesheets');\n    }\n  }\n\n  /**\n   * Get data to check if the project is migrated to ZenCore\n   */\n  getProjectList() {\n    const url = 'projectList';\n    const data = {\n      \"currentDate\": this.selectedDate\n    };\n\n    this.httpProvider.http.zentsCommonService({ url, data, addTask: true }).subscribe((res: any) => {\n      if (res && res.data) {\n        let list = res.data;\n        if (list.length > 0) {\n          list.map(item => {\n            if (item.isZencoreMigrated == 'YES' &&\n              (this.selectedDate > item.zencoreMigratedDate || this.selectedDate == item.zencoreMigratedDate)) {\n              this.tsFlags.showZencoreMigratedMessage = true;\n              this.data.projectMigratedData = item;\n            }\n          });\n        }\n      }\n    }, (err) => { })\n  }\n\n  ionViewWillLeave() {\n    this._calendarInfoSubsciption.unsubscribe();\n    this._getTimeEntryInfoSubsciption.unsubscribe();\n  }\n\n  /**\n   * Check if the associate can fill zero hours\n   */\n  canFillZeroHoursFlag() {\n    if (this.calendarInfo.AssociatesBU) {\n      return this.calendarInfo.PayrollToBeFilledZeroHours.includes(this.calendarInfo.AssociatesBU);\n    }\n  }\n\n  presentToast(msg) {\n    let toast = this.toastCtrl.create({\n      message: msg,\n      duration: 5000,\n      position: 'bottom',\n      cssClass: 'timesheetToastMsg'\n    });\n    toast.onDidDismiss(() => { });\n    toast.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/container/zents/timesheet/time-entry/time-entry.ts"],"sourceRoot":""}